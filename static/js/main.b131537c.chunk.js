(this.webpackJsonpSQD=this.webpackJsonpSQD||[]).push([[0],{1052:function(e,t,r){},1053:function(e,t,r){},1054:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(32),o=r.n(s),c=r(312),i=(r(694),r(5)),l=r(7),u=r.n(l),d=r(11),p=r(9),j=r(13),b=r(409),f=r(200),h=r(1083),m=r(1095),x=r(1088),O=r(605),g=r(609),v=r.n(g),y=r(1084),w=r(519),k=r(410),C=r(617),D=r.n(C),S=r(618),M=r.n(S),N=r(325),L=r.n(N),z=r(215),P=r(1078),I=r(1080),B=r(1103),T=r(146),R=r(376),A=r(619),E=r.n(A),F=r(1105),q=r.p+"static/media/favicon.f3592f4e.png",G=r(1),_=Object(b.a)((function(e){return{root:{display:"flex"},large:{width:e.spacing(7),height:e.spacing(7)}}}));var W=function(e){var t=_();return Object(G.jsx)("div",{className:t.root,children:Object(G.jsx)(F.a,{alt:"Remy Sharp",src:q,className:"large"===e.size?t.large:""})})},V=r(606),U=r(493),Q=r(1081),H=r(30),Y=r.n(H),K=r(207),J=r(494),Z=r(43),$=r.n(Z),X=Object(b.a)({wrapper:{margin:"1rem",position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}});function ee(e){var t=X();return Object(G.jsxs)(P.a,{"aria-labelledby":"simple-dialog-title",open:e.open,children:[Object(G.jsx)(I.a,{children:e.children}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",padding:"0"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:function(){e.handleConfirmClick()},variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:e.loading,children:"Confirmar"}),e.loading&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:function(){e.handleClose()},variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})}var te=r(610),re=r.n(te),ne=(r(740),re.a.create({baseURL:window._env_.REACT_APP_ENDPOINT,timeout:3e4}));ne.interceptors.request.use((function(e){return e.headers["x-access-token"]=function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}(),e}));var ae=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/server/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/server/find",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/server/getconnectionsdata");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(u.a.mark((function e(t,r,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/server/register",{host:t,port:r,cachepass:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/server/update/"+t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/updateconfig",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/getthemeprefers");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/server/activate/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/server/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(d.a)(u.a.mark((function e(t,r,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/server/setsshconnection/"+t,{sshuser:r,sshport:n,sshpass:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/server/deletesshconnection/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/server/status/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/server/restart/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/source/getsourceslocked/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/source/connectiontosite",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/loadconfig");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/proxy/registerproxy",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/proxy/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/bot/register",{bottoken:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/bot/getbot");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/bot/registerchat",{id:r,name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/bot/deletechat",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/bot/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/source/sourcelock",{source:t,host:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/source/sourceunlock",{source:t,host:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/geturinfo",{uri:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/mail/register/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/mail/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/quota/getquotas");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/quota/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/quota/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/quota/linksource",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/source/getsource",{identifier:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.put("/quota/setdefault/"+t.quotaid,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/serverldap/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/serverldap/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/serverldap/linkproxyserver",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/serverldap/getsourceinfo",{source:t,host:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_e=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/uploadlicensefile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/getencryptsystemdata");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/serverldap/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(e){var t="";switch(e){case"weekly":t="Semanal";break;case"daily":t="Diario";break;case"hourly":t="Cada hora";break;default:t="Mensual"}return t},He=function(e){for(var t=0,r=0;e>1024;r++)e/=1024,t++;return+e.toFixed(2)+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},Ye=function(e){return e.split("@")[0]},Ke=function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},Je=function(e){var t=e.split(":"),r=null;"http"===t[0]||"https"===t[0]?r=t[1].split("/")[2]:r=t[0];return r},Ze=r(1082),$e=r(518),Xe=r(611),et=r.n(Xe),tt=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},margin:{margin:e.spacing(.3)},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),rt=r(78);function nt(e){var t=tt(e),r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),b=Object(p.a)(l,2),f=b[0],h=b[1],m=Object(n.useState)(null),x=Object(p.a)(m,2),O=x[0],g=x[1],v=Object(n.useState)({port:"22",username:"root",password:""}),y=Object(p.a)(v,2),w=y[0],k=y[1],C=Object(n.useState)({show:!1,type:"error",msg:""}),D=Object(p.a)(C,2),S=D[0],M=D[1],N=function(){h(!1),M({show:!1,type:"error",msg:""}),c(!1),g(null),k({port:"22",username:"root",password:""})},L=function(e){e.preventDefault(),k((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},z=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),M({show:!1,type:"error",msg:""}),!(w.username.length>0&&rt.isEmpty(w.username,{ignore_whitespace:!0}))){t.next=6;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El usuario no es v\xe1lido"})})),t.next=17;break;case 6:if(rt.isPort(w.port.toString())){t.next=10;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El puerto no es v\xe1lido"})})),t.next=17;break;case 10:if(!(w.username.length>0&&rt.isEmpty(w.password,{ignore_whitespace:!0}))){t.next=14;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La contrase\xf1a no es v\xe1lida"})})),t.next=17;break;case 14:return o||c(!0),t.next=17,je(e.server._id,w.username,w.port,w.password).then((function(t){c(!1),t.data.errors?(console.log("error",t.data.errors),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})}))):(e.showMessage("SSH configurado correctamente","success"),N())})).catch((function(e){c(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o||c(!0),t.next=3,be(e.server._id).then((function(t){c(!1),t.data.errors?M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(e.showMessage("Conexi\xf3n SSH eliminada correctamente","success"),N())})).catch((function(e){c(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e.server._id).then((function(e){e.data.errors||g(e.data)})).catch((function(e){M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(U.a,{onClick:function(e){e.preventDefault(),E(),h(!0)},variant:"contained",color:"secondary",size:"small",className:t.margin,startIcon:Object(G.jsx)(et.a,{}),children:"SSH"}),null===O?S.show&&Object(G.jsxs)(P.a,{open:f,onClose:N,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"ERROR"}),Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:S.msg}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}):void 0===O.sshuser?Object(G.jsx)(P.a,{open:f,onClose:N,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:z,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Configurar conexi\xf3n SSH"}),Object(G.jsxs)(I.a,{children:[S.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:S.msg}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%"},children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{onChange:L,name:"username",label:"IP del servidor",variant:"outlined",size:"small",value:w.username})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{onChange:L,label:"Puerto",name:"port",type:"number",inputProps:{min:1,max:65536},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:w.port})})]}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,name:"password",label:"Contrase\xf1a",type:"password",autoComplete:"current-password",variant:"outlined",size:"small",value:w.password})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"default",sizeobando:!0,si:!0,existe:!0,conexiame:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})}):Object(G.jsxs)(ee,{open:f,loading:o,handleClose:N,handleConfirmClick:A,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Ya existe una conexi\xf3n SSH configurada desea eliminarla de forma permanente:"}),Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:"Tenga en cuenta que podr\xeda dejar de funcionar las cuotas de usuario, los bloqueos autom\xe1ticos y por medio de la web, no podr\xe1 reiniciar el servidor ni ver su estado."})]})]})}var at=r(613),st=r.n(at),ot=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},margin:{margin:e.spacing(.3)},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function ct(e){var t=ot(e),r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),j=Object(p.a)(l,2),b=j[0],f=j[1],h=Object(n.useState)(null),m=Object(p.a)(h,2),x=m[0],O=m[1],g=Object(n.useState)({show:!1,type:"error",msg:""}),v=Object(p.a)(g,2),y=v[0],w=v[1],k=function(){f(!1),w({show:!1,type:"error",msg:""}),c(!1),O(null)},C=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(e.server._id).then((function(e){console.log(e.data),e.data.errors?w((function(t){return Object(i.a)(Object(i.a)({},t),{},{show:!0,msg:e.data.errors[0].msg})})):O(e.data)})).catch((function(e){c(!1),w((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(U.a,{onClick:function(e){e.preventDefault(),C(),f(!0)},variant:"contained",color:"secondary",size:"small",className:t.margin,disabled:null===e.server.sshuser,startIcon:Object(G.jsx)(st.a,{}),children:"Estado"}),null===x?Object(G.jsx)(P.a,{open:b,onClose:k,"aria-labelledby":"form-dialog-title",children:y.show?Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"ERROR"}),Object(G.jsx)(B.a,{variant:"outlined",severity:y.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:y.msg}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:k,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}):Object(G.jsx)(I.a,{children:Object(G.jsxs)("div",{className:t.root,children:[Object(G.jsx)(J.a,{color:"secondary"}),Object(G.jsx)(T.a,{variant:"h6",children:"Comprobando estado del servidor"})]})})}):Object(G.jsxs)(P.a,{fullWidth:!0,maxWidth:"lg",open:b,onClose:k,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Detalles del estado del servidor"}),Object(G.jsxs)(I.a,{children:[y.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:y.type,style:{marginBottom:"1rem"},children:y.msg}),Object(G.jsx)(R.a,{component:"span",children:Object(G.jsx)(R.a,{overflow:"auto",style:{textAlign:"left"},children:Object(G.jsx)("pre",{style:{maxWidth:"20rem"},children:x.detail})})})]}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:k,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]})]})}var it=r(67),lt=r.n(it),ut=r(614),dt=r.n(ut),pt=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},margin:{margin:e.spacing(.3)},typography:{marginBottom:"0",marginLeft:"10px"}}}));function jt(e){var t=pt(),r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),j=Object(p.a)(l,2),b=j[0],f=j[1],h=Object(n.useState)(null),m=Object(p.a)(h,2),x=m[0],O=m[1],g=Object(n.useState)({show:!1,type:"error",msg:""}),v=Object(p.a)(g,2),y=v[0],w=v[1],k=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o||c(!0),t.next=3,he(e.server._id).then((function(t){c(!1),t.data.errors?e.showMessage(t.data.errors[0].msg,"error"):(e.showMessage("Servidor reiniciado correctamente","success"),C())})).catch((function(t){e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error"),C()}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){f(!1),c(!1),O(null),w({show:!1,type:"error",msg:""})},D=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e.server._id).then((function(e){console.log(e.data),e.data.errors||O(e.data)})).catch((function(e){c(!1),w((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(U.a,{onClick:function(e){e.preventDefault(),D(),f(!0)},variant:"contained",color:"secondary",size:"small",className:t.margin,disabled:null===e.server.sshuser,startIcon:Object(G.jsx)(dt.a,{}),children:"Reiniciar"}),null==x?y.show&&Object(G.jsxs)(P.a,{open:b,onClose:C,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"ERROR"}),Object(G.jsx)(B.a,{variant:"outlined",severity:y.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:y.msg}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:C,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}):Object(G.jsxs)(ee,{open:b,loading:o,handleClose:C,handleConfirmClick:k,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Est\xe1 a punto de reiniciar el servidor:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(lt.a,{fontSize:"medium"})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,className:t.typography,children:e.server.host})]})]})]})}var bt=r(615),ft=r.n(bt),ht=r(414),mt=r(420),xt=r(415),Ot=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},margin:{margin:e.spacing(.3)},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function gt(e){var t=Ot(e),r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),j=Object(p.a)(l,2),b=j[0],f=j[1],h=Object(n.useState)(null),m=Object(p.a)(h,2),x=m[0],O=m[1],g=Object(n.useState)("noldapserver"),v=Object(p.a)(g,2),y=v[0],w=v[1],k=Object(n.useState)([]),C=Object(p.a)(k,2),D=C[0],S=C[1],M=Object(n.useState)({show:!1,type:"error",msg:""}),N=Object(p.a)(M,2),L=N[0],z=N[1],T=function(){f(!1),z({show:!1,type:"error",msg:""}),c(!1),O(null),w("noldapserver")},A=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z({show:!1,type:"error",msg:""}),o||c(!0),t.next=4,qe({proxyid:x._id,ldapid:y}).then((function(t){c(!1),t.data.errors?z((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):"nothingtodo"!==t.data.status?(e.showMessage(t.data.msg,"success"),T()):z((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Seleccione un servidor LDAP de la lista"})}))})).catch((function(e){c(!1),z((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e.server._id).then((function(e){e.data.errors||O(e.data)})).catch((function(e){c(!1),z((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:return t.next=4,Ee().then((function(e){e.data.errors||S(e.data)})).catch((function(e){c(!1),z((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(U.a,{onClick:function(e){e.preventDefault(),E(),f(!0)},variant:"contained",color:"secondary",size:"small",className:t.margin,startIcon:Object(G.jsx)(ft.a,{}),children:"LDAP"}),null==x?L.show&&Object(G.jsxs)(P.a,{open:b,onClose:T,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"ERROR"}),Object(G.jsx)(B.a,{variant:"outlined",severity:L.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:L.msg}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:T,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}):Object(G.jsx)(P.a,{fullWidth:!0,maxWidth:"xs",open:b,onClose:T,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:A,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Vincular a servidor LDAP"}),Object(G.jsxs)(I.a,{children:[L.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:L.type,style:{marginBottom:"1rem"},children:L.msg}),void 0===x.serverldap||x.errors?"":Object(G.jsx)(B.a,{variant:"outlined",severity:"warning",style:{marginBottom:"1rem"},children:Object(G.jsxs)("em",{children:["Este servidor proxy esta vinculado al servidor LDAP ",Object(G.jsx)("b",{children:x.serverldap.host}),'. Seleccione la opci\xf3n "Sin servidor ldap vinculado" si lo que desea es eliminar dicho vinculo.']})}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:null!==x&&void 0!==x.serverldap?"2rem":"1rem"},children:Object(G.jsxs)(ht.a,{size:"small",variant:"outlined",style:{width:"100%"},children:[Object(G.jsx)(xt.a,{htmlFor:"set-ldap-server-link",children:"Servidores LDAP"}),Object(G.jsxs)(mt.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),w(e.target.value)},native:!0,label:"Servidores LDAP",inputProps:{name:"ldap-server-link",id:"set-ldap-server-link"},children:[Object(G.jsx)("option",{value:"noldapserver",children:"Sin servidor ldap vinculado"}),D.map((function(e,t){return Object(G.jsx)("option",{value:e._id,children:e.host})}))]})]})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:A,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:T,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})]})}var vt=r(616),yt=r.n(vt),wt=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"},margin:{margin:e.spacing(.3)},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function kt(e){var t=wt(e),r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),b=Object(p.a)(l,2),f=b[0],h=b[1],m=Object(n.useState)(null),x=Object(p.a)(m,2),O=x[0],g=x[1],v=Object(n.useState)({routelockuser:"",routelockpc:""}),y=Object(p.a)(v,2),w=y[0],k=y[1],C=Object(n.useState)({show:!1,type:"error",msg:""}),D=Object(p.a)(C,2),S=D[0],M=D[1],N=function(){h(!1),M({show:!1,type:"error",msg:""}),c(!1),g(null),k({routelockuser:"",routelockpc:""})},L=function(e){e.preventDefault(),k((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},z=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),M({show:!1,type:"error",msg:""}),o||c(!0),t.next=5,ie(e.server._id,{routelockuser:w.routelockuser,routelockpc:w.routelockpc}).then((function(t){c(!1),t.data.errors?M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(e.showMessage("Rutas de bloqueo registradas correctamente!","success"),N())})).catch((function(e){c(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e.server._id).then((function(e){e.data.errors||(g(e.data),k({routelockuser:e.data.routelockuser?e.data.routelockuser:"",routelockpc:e.data.routelockpc?e.data.routelockpc:""}))})).catch((function(e){c(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(U.a,{onClick:function(e){e.preventDefault(),T(),h(!0)},variant:"contained",color:"secondary",size:"small",className:t.margin,startIcon:Object(G.jsx)(yt.a,{}),children:"Rutas"}),null==O?S.show&&Object(G.jsxs)(P.a,{open:f,onClose:N,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"ERROR"}),Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:S.msg}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}):Object(G.jsx)(P.a,{fullWidth:!0,maxWidth:"sm",open:f,onClose:N,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:z,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Rutas de bloqueo"}),Object(G.jsxs)(I.a,{style:{overflowY:"inherit"},children:[S.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:S.msg}),Object(G.jsx)(R.a,{style:{width:"100%"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,name:"routelockuser",label:"Ruta de bloqueo para usuarios",variant:"outlined",size:"small",defaultValue:O.routelockuser?O.routelockuser:""})}),Object(G.jsx)(R.a,{style:{width:"100%"},children:Object(G.jsx)($e.a,{style:{width:"100%",marginTop:"1rem"},onChange:L,name:"routelockpc",label:"Ruta de bloqueo para pc",variant:"outlined",size:"small",defaultValue:O.routelockpc?O.routelockpc:""})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:o,children:"Aceptar"}),o&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})]})}var Ct=Object(b.a)((function(e){return{rootChip:function(e){return{background:e.serverIsUp?"#43A047":"#dc3545",marginRight:"2px"}},margin:{margin:e.spacing(.3)},flex:{alignItems:"center",justifyContent:"center",display:"flex",flexWrap:"wrap"},server:{marginRight:e.spacing(1),fontSize:"20px"},span:function(e){return{color:"#FFFFFF",background:e.serverIsUp?"#43A047":"#dc3545",borderRadius:"2rem",paddingLeft:"5px",paddingRight:"5px",marginRight:"5px"}}}}));function Dt(e){var t=Ct(e),r=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]);return Object(G.jsx)(h.a,{theme:r,children:void 0!==e.server.host?Object(G.jsxs)("div",{className:t.flex,children:[Object(G.jsx)(V.a,{classes:{root:t.rootChip},label:e.serverIsUp?Object(G.jsx)(z.a,{icon:"arrow-up",size:"sm"}):Object(G.jsx)(z.a,{icon:"arrow-down",size:"sm"}),style:{background:"success"}}),Object(G.jsx)(T.a,{variant:"h5",style:{marginRight:"5px"},children:e.server.host}),Object(G.jsxs)("div",{className:t.flex,children:[Object(G.jsx)(nt,{server:e.server,showMessage:e.showMessage}),Object(G.jsx)(jt,{server:e.server,showMessage:e.showMessage}),Object(G.jsx)(ct,{server:e.server,showMessage:e.showMessage}),Object(G.jsx)(kt,{server:e.server,showMessage:e.showMessage}),Object(G.jsx)(gt,{server:e.server,showMessage:e.showMessage})]})]}):""})}var St=Object(b.a)((function(e){var t;return{appBar:(t={},Object(j.a)(t,e.breakpoints.up("lg"),{width:"100%",marginLeft:230}),Object(j.a)(t,"zIndex",e.zIndex.drawer+1),Object(j.a)(t,"boxShadow","none"),t),menuButton:Object(j.a)({},e.breakpoints.up("lg"),{display:"none"}),grow:{flexGrow:1},sectionDesktop:{display:"flex"},margin:{marginLeft:"11.1rem"},marginSmall:{marginLeft:"3rem"}}}));function Mt(e){var t=St(),r=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#212529":"#e9ecef",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),s=Object(n.useState)(!0),o=Object(p.a)(s,2),c=o[0],i=o[1],l=Object(n.useState)(!1),u=Object(p.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)({show:!1,type:"error",msg:""}),m=Object(p.a)(b,2),x=m[0],g=m[1];return Object(G.jsxs)(h.a,{theme:r,children:[Object(G.jsx)(y.a,{color:"inherit",position:"fixed",className:t.appBar,children:Object(G.jsxs)(w.a,{children:[Object(G.jsx)(W,{}),Object(G.jsx)(O.a,{mdDown:!0,implementation:"css",children:Object(G.jsx)("div",{className:t.margin})}),Object(G.jsx)(O.a,{lgUp:!0,implementation:"css",children:Object(G.jsx)("div",{className:t.marginSmall})}),Object(G.jsx)(O.a,{smDown:!0,implementation:"css",children:void 0!==e.server?Object(G.jsx)(Dt,{handleRefreshSourcesLock:e.handleRefreshSourcesLock,showMessage:e.showMessage,server:e.server,serverIsUp:e.serverIsUp,prefersDarkMode:e.prefersDarkMode}):""}),Object(G.jsx)("div",{className:t.grow}),Object(G.jsxs)("div",{className:t.sectionDesktop,children:[Object(G.jsx)(k.a,{color:"inherit",onClick:e.handleDrawerToggle,className:t.menuButton,children:Object(G.jsx)(D.a,{})}),Object(G.jsx)(k.a,{color:"inherit",onClick:function(t){!function(t){t.preventDefault(),e.handlePrefersDarkMode()}(t)},children:Object(G.jsx)(M.a,{icon:"sync-alt"})}),Object(G.jsx)(k.a,{color:"inherit",onClick:function(t){!function(t){t.preventDefault(),c?e.socket.disconnect():e.socket.connect(),i(!c)}(t)},children:c?Object(G.jsx)(z.a,{icon:"sync-alt",size:"sm",spin:!0}):Object(G.jsx)(z.a,{icon:"sync-alt",size:"sm"})}),Object(G.jsx)(k.a,{color:"inherit",onClick:function(e){j(!d)},children:Object(G.jsx)(L.a,{})}),Object(G.jsx)(k.a,{color:"inherit",onClick:function(){sessionStorage.removeItem("token"),e.setToken("")},children:Object(G.jsx)(E.a,{})})]})]})}),Object(G.jsx)(P.a,{open:d,onClose:function(){j(!1),g({show:!1,type:"error",msg:""})},"aria-labelledby":"form-dialog-title",children:Object(G.jsx)(I.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(G.jsx)(W,{size:"large"}),Object(G.jsx)(T.a,{variant:"h4",children:"SQD"}),Object(G.jsx)(T.a,{children:"Sistema para la gesti\xf3n y monitorizaci\xf3n de squid"}),Object(G.jsx)(T.a,{variant:"h6",children:"Versi\xf3n 1.0.0"}),x.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:x.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:x.msg}),e.license&&Object(G.jsxs)(B.a,{variant:"outlined",severity:"success",style:{marginTop:"1rem"},children:[" Licencia para ",e.license.company," v\xe1lida por ",1===e.license.timeleft?"1 d\xeda restante":e.license.timeleft+" d\xedas restantes"]}),Object(G.jsx)("small",{style:{marginTop:"1.2rem"},children:"Copyright \xa9 Todos los derechos reservados "})]})})})]})}var Nt=r(1066),Lt=r(111),zt=r(1086),Pt=r(522),It=r(1068),Bt=r(520),Tt=r(620),Rt=r.n(Tt),At=r(1085),Et=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Ft=r(78);function qt(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Et(e),s=Object(n.useState)(!1),o=Object(p.a)(s,2),c=o[0],l=o[1],j=Object(n.useState)(!1),b=Object(p.a)(j,2),m=b[0],x=b[1],O=Object(n.useState)(""),g=Object(p.a)(O,2),v=g[0],y=g[1],w=Object(n.useState)({show:!1,type:"error",msg:""}),k=Object(p.a)(w,2),C=k[0],D=k[1],S=function(){x(!1),l(!1),y(""),D({show:!1,type:"error",msg:""})},M=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),D({show:!1,type:"error",msg:""}),!Ft.isEmpty(v,{ignore_whitespace:!0})){t.next=6;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El token no es v\xe1lido"})})),t.next=9;break;case 6:return c||l(!0),t.next=9,ye(v).then((function(t){l(!1),t.data.errors?(console.log("error",t.data.errors),D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})}))):(e.showMessage("Bot registrado correctamente","success"),S(),e.loadConfig(),e.handleRefreshChats())})).catch((function(e){l(!1),D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c||l(!0),t.next=3,De(e.bot._id).then((function(t){l(!1),t.data.errors?D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(l(!1),y(""),D({show:!1,type:"error",msg:""}),e.showMessage("Bot eliminado correctamente","success"),e.loadConfig(),e.handleRefreshChats())})).catch((function(e){l(!1),D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{onClick:function(e){e.preventDefault(e),x(!0)},button:!0,children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:r.rounded,children:Object(G.jsx)(Rt.a,{})})}),Object(G.jsx)(Bt.a,{primary:"Token SQD-bot",className:r.listText})]}),Object(G.jsx)(h.a,{theme:t,children:null===e.bot?Object(G.jsx)(P.a,{fullWidth:!0,maxWidth:"sm",open:m,onClose:S,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:M,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Token para SQD-bot"}),Object(G.jsxs)(I.a,{children:[C.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:C.type,style:{marginBottom:"1rem"},children:C.msg}),Object(G.jsx)(R.a,{style:{width:"100%"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),y(e.target.value)},id:"telegramitem-token",name:"token",label:"Token",variant:"outlined",size:"small",value:v})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:r.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:r.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:c,children:"Aceptar"}),c&&Object(G.jsx)(J.a,{size:24,className:r.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:S,variant:"contained",color:"default",size:"small",className:r.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})}):Object(G.jsxs)(ee,{open:m,loading:c,handleClose:S,handleConfirmClick:N,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Ya existe un token registrado en el sistema. Si desea a\xf1adir uno nuevo por favor confirme para eliminar el token actual:"}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:Object(G.jsx)(T.a,{gutterBottom:!0,className:r.typography,children:Object(G.jsxs)("b",{children:[" ",e.bot.token," "]})})})]})})]})}var Gt=r(621),_t=r.n(Gt),Wt=r(1067),Vt=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Ut=r(78);function Qt(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=Vt(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],b=c[1],m=Object(n.useState)(!1),x=Object(p.a)(m,2),O=x[0],g=x[1],v=Object(n.useState)({host:"",port:"3128",username:"",password:""}),y=Object(p.a)(v,2),w=y[0],k=y[1],C=Object(n.useState)({show:!1,type:"error",msg:""}),D=Object(p.a)(C,2),S=D[0],M=D[1],N=function(){g(!1),b(!1),k({host:"",port:"3128",username:"",password:""}),M({show:!1,type:"error",msg:""})},L=function(e){e.preventDefault(),k((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},z=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),M({show:!1,type:"error",msg:""}),Ut.isIP(w.host)){t.next=6;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n ip del servidor no es v\xe1lida"})})),t.next=21;break;case 6:if(Ut.isPort(w.port.toString())){t.next=10;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El puerto no es v\xe1lido"})})),t.next=21;break;case 10:if(!(w.username.length>0&&Ut.isEmpty(w.username,{ignore_whitespace:!0}))){t.next=14;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El usuario no es v\xe1lido"})})),t.next=21;break;case 14:if(!(w.username.length>0&&Ut.isEmpty(w.password,{ignore_whitespace:!0}))){t.next=18;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La contrase\xf1a no es v\xe1lida"})})),t.next=21;break;case 18:return l||b(!0),t.next=21,ge({host:w.host,port:w.port,username:w.username,password:w.password}).then((function(t){b(!1),t.data.errors?(console.log("error",t.data.errors),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})}))):(e.showMessage("Proxy registrado correctamente","success"),N(),e.loadConfig())})).catch((function(e){b(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l||b(!0),t.next=3,ve(e.proxy._id).then((function(t){b(!1),t.data.errors?M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(N(),e.showMessage("Proxy eliminado correctamente","success"),e.loadConfig())})).catch((function(e){b(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{onClick:function(e){e.preventDefault(e),g(!0)},button:!0,children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(_t.a,{})})}),Object(G.jsx)(Bt.a,{primary:"Proxy",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:null===e.proxy?Object(G.jsx)(P.a,{fullScreen:r,open:O,onClose:N,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:z,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Configurar proxy"}),Object(G.jsxs)(I.a,{children:[S.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:S.msg}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%"},children:[Object(G.jsx)(R.a,{flexGrow:1,style:{width:"100%"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"serverproxy-host",name:"host",label:"IP del servidor",variant:"outlined",size:"small",value:w.host})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{onChange:L,id:"serverproxy-port",label:"Puerto",name:"port",type:"number",defaultValue:"3128",inputProps:{min:1,max:65536},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:w.port})})]}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%",marginTop:"1rem",justifyContent:"center"},children:Object(G.jsx)("small",{children:"Campos opcionales"})}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%",marginTop:"1rem"},children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"serverproxy-username",name:"username",label:"Usuario",variant:"outlined",size:"small",value:w.username})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"serverproxy-password",name:"password",label:"Contrase\xf1a",type:"password",autoComplete:"current-password",variant:"outlined",size:"small",value:w.password})})]})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"default",size:"small",className:s.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})}):Object(G.jsxs)(ee,{open:O,loading:l,handleClose:N,handleConfirmClick:A,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Ya existe un proxy registrado desea eliminarlo de forma permanente:"}),Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:"Tenga en cuenta que si su conexi\xf3n es a travez de este proxy el bot podr\xeda dejar de funcionar al igual que no se podr\xe1 calcular el progreso de las descargas"}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,className:s.typography,children:e.proxy.uri})})]})})]})}var Ht=r(622),Yt=r.n(Ht),Kt=r(339),Jt=(r(521),Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}))),Zt=r(78);function $t(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=Jt(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],b=c[1],m=Object(n.useState)(!1),x=Object(p.a)(m,2),O=x[0],g=x[1],v=Object(n.useState)({host:"",port:"25",from:"",to:[],username:"",password:""}),y=Object(p.a)(v,2),w=y[0],k=y[1],C=Object(n.useState)({show:!1,type:"error",msg:""}),D=Object(p.a)(C,2),S=D[0],M=D[1],N=function(){g(!1),b(!1),k({host:"",port:"25",from:"",to:[],username:"",password:""}),M({show:!1,type:"error",msg:""})},L=function(e){e.preventDefault(),k((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},z=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),M({show:!1,type:"error",msg:""}),Zt.isIP(w.host)){t.next=6;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n ip del servidor no es v\xe1lida"})})),t.next=29;break;case 6:if(Zt.isPort(w.port.toString())){t.next=10;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El puerto no es v\xe1lido"})})),t.next=29;break;case 10:if(Zt.isEmail(w.from)){t.next=14;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n de env\xedo no es v\xe1lida"})})),t.next=29;break;case 14:if(0!==w.to.length){t.next=18;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Por favor especifique alguna direcci\xf3n de destino"})})),t.next=29;break;case 18:if(!(w.username.length>0&&Zt.isEmpty(w.username,{ignore_whitespace:!0}))){t.next=22;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El usuario no es v\xe1lido"})})),t.next=29;break;case 22:if(!(w.username.length>0&&Zt.isEmpty(w.password,{ignore_whitespace:!0}))){t.next=26;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La contrase\xf1a no es v\xe1lida"})})),t.next=29;break;case 26:return l||b(!0),t.next=29,Le({from:w.from,host:w.host,port:w.port,username:w.username,password:w.password,to:w.to}).then((function(t){b(!1),t.data.errors?(console.log("error",t.data.errors),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})}))):(e.showMessage("Correo configurado correctamente","success"),N(),e.loadConfig())})).catch((function(e){b(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l||b(!0),t.next=3,ze(e.mail._id).then((function(t){b(!1),t.data.errors?M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(N(),e.showMessage("Correo eliminado correctamente","success"),e.loadConfig())})).catch((function(e){b(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{onClick:function(e){e.preventDefault(e),g(!0)},button:!0,children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(Yt.a,{})})}),Object(G.jsx)(Bt.a,{primary:"Correo",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:null===e.mail?Object(G.jsx)(P.a,{fullScreen:r,open:O,onClose:N,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:z,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Configurar correo"}),Object(G.jsxs)(I.a,{children:[S.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:S.msg}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%"},children:[Object(G.jsx)(R.a,{flexGrow:1,style:{width:"100%"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"servermail-host",name:"host",label:"IP del servidor",variant:"outlined",size:"small",value:w.host})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{onChange:L,id:"servermail-port",label:"Puerto",name:"port",type:"number",defaultValue:"25",inputProps:{min:1,max:65536},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:w.port})})]}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"servermail-from",name:"from",label:"Direcci\xf3n de env\xedo",variant:"outlined",size:"small",value:w.from})}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)(Kt.a,{tags:w.to,name:"to",placeholder:"Direcciones destino. Precione enter al escribir",editable:!0,readOnly:!1,removeOnBackspace:!0,onChange:function(e){k((function(t){return Object(i.a)(Object(i.a)({},t),{},{to:e})}))},validator:function(e){var t=!0;return Zt.isEmail(Zt.trim(e))||(t=!1,M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n de correo es inv\xe1lida"})}))),w.to.map((function(r){return r===e&&(t=!1,M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n de correo ya est\xe1 agregada"})}))),r})),t&&M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!1,msg:""})})),t}})}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%",marginTop:"1rem",justifyContent:"center"},children:Object(G.jsx)("small",{children:"Campos opcionales"})}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%",marginTop:"1rem"},children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"servermail-username",name:"username",label:"Usuario",variant:"outlined",size:"small",value:w.username})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:L,id:"servermail-password",name:"password",label:"Contrase\xf1a",type:"password",autoComplete:"current-password",variant:"outlined",size:"small",value:w.password})})]})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"default",size:"small",className:s.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})}):Object(G.jsxs)(ee,{open:O,loading:l,handleClose:N,handleConfirmClick:A,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Ya existe un correo registrado desea eliminarlo de forma permanente?"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(lt.a,{fontSize:"medium"})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,className:s.typography,children:e.mail.host})]})]})})]})}var Xt=r(157),er=r.n(Xt),tr=r(62),rr=r.n(tr),nr=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},small:{background:"#dc3545",borderRadius:"15px",color:"white"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ar=r(78);function sr(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=nr(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(!1),j=Object(p.a)(d,2),b=j[0],m=j[1],x=Object(n.useState)([]),O=Object(p.a)(x,2),g=O[0],v=O[1],y=Object(n.useState)(5),w=Object(p.a)(y,2),k=w[0],C=w[1],D=Object(n.useState)({show:!1,type:"error",msg:""}),S=Object(p.a)(D,2),M=S[0],N=S[1],L=function(){m(!1),u(!1),v([]),C(5),N({show:!1,type:"error",msg:""})},z=function(t){var r=[],n=[];e.connections.map((function(e){var t="-"===e.username?e.remote:e.username,a=Je(e.uri);return-1===n.indexOf(a)?(n.push(a),r.push({uri:a,sources:[t],count:1})):(r[n.indexOf(a)].count++,-1===r[n.indexOf(a)].sources.indexOf(t)&&r[n.indexOf(a)].sources.push(t)),e})),r.sort((function(e,t){return t.count-e.count})),v(r.slice(0,t))};return Object(n.useEffect)((function(){!function(t){var r=[],n=[];e.connections.map((function(e){var t="-"===e.username?e.remote:e.username,a=Je(e.uri);return-1===n.indexOf(a)?(n.push(a),r.push({uri:a,sources:[t],count:1})):(r[n.indexOf(a)].count++,-1===r[n.indexOf(a)].sources.indexOf(t)&&r[n.indexOf(a)].sources.push(t)),e})),r.sort((function(e,t){return t.count-e.count})),v(r.slice(0,t))}(k)}),[e.connections,k]),Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{button:!0,onClick:function(e){e.preventDefault(e),z(k),m(!0)},children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(er.a,{})})}),Object(G.jsx)(Bt.a,{primary:"URI con m\xe1s conexiones",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:Object(G.jsxs)(P.a,{fullScreen:r,fullWidth:!0,maxWidth:"sm",open:b,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"URI con m\xe1s conexiones"}),Object(G.jsxs)(I.a,{children:[M.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:M.type,style:{marginBottom:"1rem"},children:M.msg}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%"},children:Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),!ar.isInt(e.target.value.toString())&&e.target.value<0?N((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La cantidad no es v\xe1lida"})})):(C(e.target.value),z(e.target.value))},label:"Cantidad a mostrar",type:"number",inputProps:{min:1},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:k})})}),g.length>0?g.map((function(e){return Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",p:.2,bgcolor:"background.grouprow",style:{borderRadius:"4px"},children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",style:{marginLeft:"0.5rem"},children:Object(G.jsx)("b",{children:e.uri})})]}),Object(G.jsx)("small",{className:s.small,children:Object(G.jsx)("em",{style:{margin:"5px"},children:e.count})})]}),Object(G.jsx)(R.a,{display:"flex",flexDirection:"column",style:{textAlign:"left",marginLeft:"3rem"},children:e.sources.map((function(e,t){return Object(G.jsx)(T.a,{children:Ye(e)})}))})]})})):Object(G.jsx)(T.a,{children:"En estos momentos no existe ninguna uri"})]}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{onClick:function(e){L()},variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]})})]})})]})}var or=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},small:{background:"#dc3545",borderRadius:"15px",color:"white"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),cr=r(78);function ir(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=or(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(!1),j=Object(p.a)(d,2),b=j[0],m=j[1],x=Object(n.useState)([]),O=Object(p.a)(x,2),g=O[0],v=O[1],y=Object(n.useState)(5),w=Object(p.a)(y,2),k=w[0],C=w[1],D=Object(n.useState)({show:!1,type:"error",msg:""}),S=Object(p.a)(D,2),M=S[0],N=S[1],L=function(){m(!1),u(!1),v([]),C(5),N({show:!1,type:"error",msg:""})},z=function(t){var r=[],n=[];e.connections.map((function(e){var t="-"===e.username?e.remote:e.username,a=Je(e.uri);return-1===n.indexOf(a)?(n.push(a),r.push({uri:a,sources:[t]})):-1===r[n.indexOf(a)].sources.indexOf(t)&&r[n.indexOf(a)].sources.push(t),e})),r.sort((function(e,t){return t.sources.length-e.sources.length})),v(r.slice(0,t))};return Object(n.useEffect)((function(){!function(t){var r=[],n=[];e.connections.map((function(e){var t="-"===e.username?e.remote:e.username,a=Je(e.uri);return-1===n.indexOf(a)?(n.push(a),r.push({uri:a,sources:[t]})):-1===r[n.indexOf(a)].sources.indexOf(t)&&r[n.indexOf(a)].sources.push(t),e})),r.sort((function(e,t){return t.sources.length-e.sources.length})),v(r.slice(0,t))}(k)}),[e.connections,k]),Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{button:!0,onClick:function(e){e.preventDefault(e),z(k),m(!0)},children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(er.a,{})})}),Object(G.jsx)(Bt.a,{primary:"URI m\xe1s visitadas",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:Object(G.jsxs)(P.a,{fullScreen:r,fullWidth:!0,maxWidth:"sm",open:b,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"URI con m\xe1s visitadas"}),Object(G.jsxs)(I.a,{children:[M.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:M.type,style:{marginBottom:"1rem"},children:M.msg}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%"},children:Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),!cr.isInt(e.target.value.toString())&&e.target.value<0?N((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La cantidad no es v\xe1lida"})})):(C(e.target.value),z(e.target.value))},label:"Cantidad a mostrar",type:"number",inputProps:{min:1},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:k})})}),g.length>0?g.slice(0,k).map((function(e,t){return Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",p:.2,bgcolor:"background.grouprow",style:{borderRadius:"4px"},children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",style:{marginLeft:"0.5rem"},children:Object(G.jsx)("b",{children:e.uri})})]}),Object(G.jsx)("small",{className:s.small,children:Object(G.jsx)("em",{style:{margin:"5px"},children:e.sources.length})})]}),Object(G.jsx)(R.a,{display:"flex",flexDirection:"column",style:{textAlign:"left",marginLeft:"3rem"},children:e.sources.map((function(e,t){return Object(G.jsx)(T.a,{children:e})}))})]})})):Object(G.jsx)(T.a,{children:"En estos momentos no existe ninguna uri"})]}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{onClick:function(e){L()},variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]})})]})})]})}var lr=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},small:{background:"#dc3545",borderRadius:"15px",color:"white"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ur=r(78);function dr(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=lr(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(!1),j=Object(p.a)(d,2),b=j[0],m=j[1],x=Object(n.useState)([]),O=Object(p.a)(x,2),g=O[0],v=O[1],y=Object(n.useState)(5),w=Object(p.a)(y,2),k=w[0],C=w[1],D=Object(n.useState)({show:!1,type:"error",msg:""}),S=Object(p.a)(D,2),M=S[0],N=S[1],L=function(){m(!1),u(!1),v([]),C(5),N({show:!1,type:"error",msg:""})},z=function(t){var r=[],n=[];e.connections.map((function(e,t){var a="-"===e.username?e.remote:e.username;return Ke(a)&&(-1===n.indexOf(a)?(n.push(a),r.push({identifier:a,connections:1,activeconnections:e.active?1:0})):(r[n.indexOf(a)].connections++,e.active&&r[n.indexOf(a)].activeconnections++)),e})),v(r.slice(0,t))};return Object(n.useEffect)((function(){!function(t){var r=[],n=[];e.connections.map((function(e,t){var a="-"===e.username?e.remote:e.username;return Ke(a)&&(-1===n.indexOf(a)?(n.push(a),r.push({identifier:a,connections:1,activeconnections:e.active?1:0})):(r[n.indexOf(a)].connections++,e.active&&r[n.indexOf(a)].activeconnections++)),e})),v(r.slice(0,t))}(k)}),[e.connections,k]),Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{button:!0,onClick:function(e){e.preventDefault(e),z(k),m(!0)},children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(er.a,{})})}),Object(G.jsx)(Bt.a,{primary:"Navegaci\xf3n mediante IP",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:Object(G.jsxs)(P.a,{fullScreen:r,fullWidth:!0,maxWidth:"sm",open:b,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Navegaci\xf3n mediante IP"}),Object(G.jsxs)(I.a,{children:[M.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:M.type,style:{marginBottom:"1rem"},children:M.msg}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%"},children:Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),!ur.isInt(e.target.value.toString())&&e.target.value<0?N((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La cantidad no es v\xe1lida"})})):(C(e.target.value),z(e.target.value))},label:"Cantidad a mostrar",type:"number",inputProps:{min:1},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:k})})}),g.length>0?g.map((function(e,t){return Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",p:.2,bgcolor:"background.grouprow",style:{borderRadius:"4px"},children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",style:{marginLeft:"0.5rem"},children:Object(G.jsx)("b",{children:Ye(e.identifier)})})]}),Object(G.jsx)("small",{className:s.small,children:Object(G.jsx)("em",{style:{margin:"5px"},children:e.connections})})]}),Object(G.jsx)(R.a,{display:"flex",flexDirection:"column",style:{textAlign:"left",marginLeft:"3rem"},children:0===e.activeconnections?"Sin conexiones activas":1===e.activeconnections?e.activeconnections+" conexi\xf3n activa":e.activeconnections+" conexiones activas"})]})})):Object(G.jsx)(T.a,{children:"En estos momentos no existe ninguna ip navegando de forma directa"})]}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{onClick:function(e){L()},variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]})})]})})]})}var pr=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},small:{background:"#dc3545",borderRadius:"15px",color:"white"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),jr=r(78);function br(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=pr(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],u=c[1],d=Object(n.useState)(!1),j=Object(p.a)(d,2),b=j[0],m=j[1],x=Object(n.useState)([]),O=Object(p.a)(x,2),g=O[0],v=O[1],y=Object(n.useState)(5),w=Object(p.a)(y,2),k=w[0],C=w[1],D=Object(n.useState)({show:!1,type:"error",msg:""}),S=Object(p.a)(D,2),M=S[0],N=S[1],L=function(){m(!1),u(!1),v([]),C(5),N({show:!1,type:"error",msg:""})},z=function(t){var r=[],n=[];e.connections.map((function(e){var t="-"===e.username?e.remote:e.username;return Ke(t)||(-1===n.indexOf(t)?(n.push(t),r.push({identifier:t,ips:[e.remote]})):-1===r[n.indexOf(t)].ips.indexOf(e.remote)&&r[n.indexOf(t)].ips.push(e.remote)),e})),(r=r.filter((function(e){return e.ips.length>1}))).sort((function(e,t){return t.ips.length-e.ips.length})),v(r.slice(0,t))};return Object(n.useEffect)((function(){!function(t){var r=[],n=[];e.connections.map((function(e){var t="-"===e.username?e.remote:e.username;return Ke(t)||(-1===n.indexOf(t)?(n.push(t),r.push({identifier:t,ips:[e.remote]})):-1===r[n.indexOf(t)].ips.indexOf(e.remote)&&r[n.indexOf(t)].ips.push(e.remote)),e})),(r=r.filter((function(e){return e.ips.length>1}))).sort((function(e,t){return t.ips.length-e.ips.length})),v(r.slice(0,t))}(k)}),[e.connections,k]),Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{button:!0,onClick:function(e){e.preventDefault(e),z(k),m(!0)},children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(er.a,{})})}),Object(G.jsx)(Bt.a,{primary:"Usuarios desde varias IP",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:Object(G.jsxs)(P.a,{fullScreen:r,fullWidth:!0,maxWidth:"sm",open:b,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Usuarios desde varias IP"}),Object(G.jsxs)(I.a,{children:[M.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:M.type,style:{marginBottom:"1rem"},children:M.msg}),Object(G.jsx)(R.a,{display:"flex",style:{width:"100%"},children:Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),!jr.isInt(e.target.value.toString())&&e.target.value<0?N((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La cantidad no es v\xe1lida"})})):(C(e.target.value),z(e.target.value))},label:"Cantidad a mostrar",type:"number",inputProps:{min:1},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:k})})}),g.length>0?g.map((function(e,t){return Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",p:.2,bgcolor:"background.grouprow",style:{borderRadius:"4px"},children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",style:{marginLeft:"0.5rem"},children:Object(G.jsx)("b",{children:Ye(e.identifier)})})]}),Object(G.jsx)("small",{className:s.small,children:Object(G.jsx)("em",{style:{margin:"5px"},children:e.ips.length})})]}),Object(G.jsx)(R.a,{display:"flex",flexDirection:"column",style:{textAlign:"left",marginLeft:"3rem"},children:e.ips.map((function(e,t){return Object(G.jsx)(T.a,{children:e})}))})]})})):Object(G.jsx)(T.a,{children:"En estos momentos no existen usuarios navegando desde varias ip"})]}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{onClick:function(e){L()},variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]})})]})})]})}var fr=r(623),hr=r.n(fr),mr=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),xr=r(78);function Or(e){var t=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#343A40":"#fff",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),r=Object(Wt.a)(t.breakpoints.down("sm")),s=mr(e),o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],b=c[1],m=Object(n.useState)(!1),x=Object(p.a)(m,2),O=x[0],g=x[1],v=Object(n.useState)({identifier:"",sites:[]}),y=Object(p.a)(v,2),w=y[0],k=y[1],C=Object(n.useState)({show:!1,type:"error",msg:""}),D=Object(p.a)(C,2),S=D[0],M=D[1],N=function(){g(!1),b(!1),k({identifier:"",sites:[]}),M({show:!1,type:"error",msg:""})},L=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),M({show:!1,type:"error",msg:""}),!xr.isEmpty(w.identifier,{ignore_whitespace:!0})){t.next=6;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El usuario o la direcci\xf3n ip no es v\xe1lida"})})),t.next=13;break;case 6:if(0!==w.sites.length){t.next=10;break}M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Debe especificar al menos un sitio o palabra"})})),t.next=13;break;case 10:return l||b(!0),t.next=13,xe({host:e.server.host,identifier:w.identifier,sites:w.sites}).then((function(t){b(!1),t.data.errors?M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(e.showMessage("Notificaci\xf3n resgistrada correctamente","success"),N())})).catch((function(e){b(!1),M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(It.a,{onClick:function(e){e.preventDefault(e),g(!0)},button:!0,children:[Object(G.jsx)(At.a,{children:Object(G.jsx)(F.a,{variant:"rounded",className:s.rounded,children:Object(G.jsx)(hr.a,{})})}),Object(G.jsx)(Bt.a,{primary:"Conexi\xf3n a sitios",className:s.listText})]}),Object(G.jsx)(h.a,{theme:t,children:Object(G.jsx)(P.a,{fullScreen:r,fullWidth:!0,maxWidth:"xs",open:O,onClose:N,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:L,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Conexi\xf3n a sitios"}),Object(G.jsxs)(I.a,{children:[S.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:S.type,style:{marginBottom:"1rem"},children:S.msg}),Object(G.jsx)(R.a,{style:{width:"100%"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),k((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},name:"identifier",label:"Usuario o IP",variant:"outlined",size:"small",value:w.identifier})}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)(Kt.a,{tags:w.sites,name:"to",placeholder:"Sitios o palabras. Precione enter al escribir",editable:!0,readOnly:!1,removeOnBackspace:!0,onChange:function(e){k((function(t){return Object(i.a)(Object(i.a)({},t),{},{sites:e})}))},validator:function(e){var t=!0;return e.split(" ").length>1&&(t=!1,M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El sitio o palabra no debe de contener espacios"})}))),t&&M((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!1,msg:""})})),t}})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:s.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:s.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:l,children:"Aceptar"}),l&&Object(G.jsx)(J.a,{size:24,className:s.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:N,variant:"contained",color:"default",size:"small",className:s.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})})]})}var gr=Object(b.a)((function(e){var t;return{appBar:(t={},Object(j.a)(t,e.breakpoints.up("lg"),{width:"100%",marginLeft:230}),Object(j.a)(t,"zIndex",e.zIndex.drawer+1),t),menuButton:Object(j.a)({marginRight:e.spacing(2)},e.breakpoints.up("lg"),{display:"none"}),drawer:Object(j.a)({},e.breakpoints.up("lg"),{width:230,flexShrink:0}),toolbar:e.mixins.toolbar,drawerPaper:{width:230,borderRight:"none",overflowX:"hidden"},rounded:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary,backgroundColor:t.prefersDarkMode?"#343A40":e.palette.grey[400]}},label:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}},marginLeft:{marginLeft:"10px"},listText:function(t){return{color:t.prefersDarkMode?e.palette.text.secondary:e.palette.secondary}}}}));function vr(e){var t=gr(e),r=Object(n.useState)(null),s=Object(p.a)(r,2),o=s[0],c=s[1],i=a.a.useMemo((function(){return Object(f.a)({palette:{type:e.prefersDarkMode?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:e.prefersDarkMode?"#212529":"#e9ecef",default:e.prefersDarkMode?"#212529":"#fafafa"}}})}),[e.prefersDarkMode]),l=function(){var t=Object(d.a)(u.a.mark((function t(r,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,le(n).then((function(e){j()})).catch((function(t){e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe().then((function(e){console.log(e.data.config),c(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j()}),[]);var b=Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{className:t.toolbar,style:{marginTop:"1.6rem"}}),Object(G.jsx)("label",{className:t.marginLeft,children:"REPORTES"}),Object(G.jsxs)(Nt.a,{children:[Object(G.jsx)(br,{connections:e.connections,prefersDarkMode:e.prefersDarkMode}),Object(G.jsx)(dr,{connections:e.connections,prefersDarkMode:e.prefersDarkMode}),Object(G.jsx)(sr,{connections:e.connections,prefersDarkMode:e.prefersDarkMode}),Object(G.jsx)(ir,{connections:e.connections,prefersDarkMode:e.prefersDarkMode})]}),Object(G.jsx)("label",{className:t.marginLeft,children:"CONFIGURAR"}),Object(G.jsxs)(Nt.a,{children:[Object(G.jsx)($t,{showMessage:e.showMessage,loadConfig:j,mail:null!==o&&null!==o.mail&&void 0!==o.mail?o.mail:null,prefersDarkMode:e.prefersDarkMode}),Object(G.jsx)(Qt,{showMessage:e.showMessage,loadConfig:j,proxy:null!==o&&null!==o.proxy&&void 0!==o.proxy?o.proxy:null,prefersDarkMode:e.prefersDarkMode}),Object(G.jsx)(qt,{showMessage:e.showMessage,loadConfig:j,bot:null!==o&&null!==o.bot&&void 0!==o.bot?o.bot:null,prefersDarkMode:e.prefersDarkMode,handleRefreshChats:e.handleRefreshChats})]}),Object(G.jsx)("label",{className:t.marginLeft,children:"NOTIFICACIONES"}),Object(G.jsx)(Nt.a,{children:Object(G.jsx)(Or,{showMessage:e.showMessage,prefersDarkMode:e.prefersDarkMode,server:e.server})}),Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",style:{width:"100%",marginLeft:"1rem"},children:[Object(G.jsx)(R.a,{children:Object(G.jsx)(Pt.a,{classes:{label:t.label},control:Object(G.jsx)(zt.a,{id:"emailnotification",checked:null!==o&&null!==o.config&&void 0!==o.config&&o.config.mailnotify,onChange:function(e){l(e,{mailnotify:null===o||null===o.config||void 0===o.config||!o.config.mailnotify})},name:"emailnotification",inputProps:{"aria-label":"secondary checkbox"}}),label:"Por correo"})}),Object(G.jsx)(R.a,{children:Object(G.jsx)(Pt.a,{classes:{label:t.label},control:Object(G.jsx)(zt.a,{id:"emailnotification",checked:null!==o&&null!==o.config&&void 0!==o.config&&o.config.botnotify,onChange:function(e){l(e,{botnotify:null===o||null===o.config||void 0===o.config||!o.config.botnotify})},name:"emailnotification",inputProps:{"aria-label":"secondary checkbox"}}),label:"Por SQD-bot"})})]})]});return Object(G.jsx)(h.a,{theme:i,children:Object(G.jsxs)("nav",{className:t.drawer,"aria-label":"mailbox folders",children:[Object(G.jsx)(O.a,{smUp:!0,implementation:"css",children:Object(G.jsx)(Lt.a,{container:e.container,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:e.mobileOpen,onClose:e.handleDrawerToggle,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:b})}),Object(G.jsx)(O.a,{mdDown:!0,implementation:"css",children:Object(G.jsx)(Lt.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0,children:b})})]})})}var yr=r(8),wr=r(1091),kr=r(50),Cr=r(85),Dr=r(66),Sr=r(107),Mr=r(326),Nr=r(523),Lr=r(524),zr=r(626),Pr=r.n(zr),Ir=r(4),Br=["icons","columnDef","rowData"],Tr=function(e){Object(Sr.a)(r,e);var t=Object(Mr.a)(r);function r(){var e;Object(Cr.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).handleClickCell=function(t){e.props.columnDef.disableClick&&t.stopPropagation()},e.getStyle=function(){var t={color:"inherit",border:0};return t="function"===typeof e.props.columnDef.cellStyle?Object(i.a)(Object(i.a)({},t),e.props.columnDef.cellStyle(e.props.value,e.props.rowData)):Object(i.a)(Object(i.a)({},t),e.props.columnDef.cellStyle),e.props.columnDef.disableClick&&(t.cursor="default"),Object(i.a)(Object(i.a)({},e.props.style),t)},e}return Object(Dr.a)(r,[{key:"getRenderValue",value:function(){if(void 0!==this.props.columnDef.emptyValue&&(void 0===this.props.value||null===this.props.value))return this.getEmptyValue(this.props.columnDef.emptyValue);if(this.props.columnDef.render)return this.props.rowData?this.props.columnDef.render(this.props.rowData,"row"):this.props.columnDef.render(this.props.value,"group");if("boolean"===this.props.columnDef.type){var e={textAlign:"left",verticalAlign:"middle",width:48};return this.props.value?Object(G.jsx)(this.props.icons.Check,{style:e}):Object(G.jsx)(this.props.icons.ThirdStateCheck,{style:e})}return"date"===this.props.columnDef.type?this.props.value instanceof Date?this.props.value.toLocaleDateString():this.props.value:"time"===this.props.columnDef.type?this.props.value instanceof Date?this.props.value.toLocaleTimeString():this.props.value:"datetime"===this.props.columnDef.type?this.props.value instanceof Date?this.props.value.toLocaleString():this.props.value:"currency"===this.props.columnDef.type?this.getCurrencyValue(this.props.columnDef.currencySetting,this.props.value):this.props.value}},{key:"getEmptyValue",value:function(e){return"function"===typeof e?this.props.columnDef.emptyValue(this.props.rowData):e}},{key:"getCurrencyValue",value:function(e,t){return void 0!==e?new Intl.NumberFormat(void 0!==e.locale?e.locale:"en-US",{style:"currency",currency:void 0!==e.currencyCode?e.currencyCode:"USD",minimumFractionDigits:void 0!==e.minimumFractionDigits?e.minimumFractionDigits:2,maximumFractionDigits:void 0!==e.maximumFractionDigits?e.maximumFractionDigits:2}).format(void 0!==t?t:0):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(void 0!==t?t:0)}},{key:"render",value:function(){var e=this.props,t=(e.icons,e.columnDef,e.rowData,Object(Ir.a)(e,Br));return Object(G.jsx)(Nr.a,Object(i.a)(Object(i.a)({size:this.props.size},t),{},{style:this.getStyle(),align:-1!==["numeric","currency"].indexOf(this.props.columnDef.type)?"right":"left",onClick:this.handleClickCell,children:this.props.children}))}}]),r}(n.Component);Tr.defaultProps={columnDef:{},value:void 0};var Rr=r(175),Ar=r.n(Rr),Er=r(78),Fr=function(e){Object(Sr.a)(r,e);var t=Object(Mr.a)(r);function r(){var e;Object(Cr.a)(this,r);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).rotateIconStyle=function(e){return{transform:e?"rotate(90deg)":"none"}},e.showResume=function(e){var t=0,r=0;return e.forEach((function(e,n){t+=e.bytes,r+=e.speed_value})),Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)("span",{style:{marginRight:"5px"},children:He(t)}),Object(G.jsx)("span",{children:He(r)+"/s"})]})},e}return Object(Dr.a)(r,[{key:"render",value:function(){var e=this,t=this.props.columns.filter((function(e){return!e.hidden})).length;this.props.options.selection&&t++,this.props.detailPanel&&t++,this.props.actions&&this.props.actions.length>0&&t++;var r,a=this.props.groups[this.props.level];this.props.groupData.isExpanded&&(r=this.props.groups.length>this.props.level+1?this.props.groupData.groups.map((function(t,r){return Object(G.jsx)(e.props.components.GroupRow,{actions:e.props.actions,columns:e.props.columns,components:e.props.components,detailPanel:e.props.detailPanel,getFieldValue:e.props.getFieldValue,groupData:t,groups:e.props.groups,icons:e.props.icons,level:e.props.level+1,path:[].concat(Object(kr.a)(e.props.path),[r]),onGroupExpandChanged:e.props.onGroupExpandChanged,onRowSelected:e.props.onRowSelected,onRowClick:e.props.onRowClick,onToggleDetailPanel:e.props.onToggleDetailPanel,onTreeExpandChanged:e.props.onTreeExpandChanged,onEditingCanceled:e.props.onEditingCanceled,onEditingApproved:e.props.onEditingApproved,options:e.props.options,hasAnyEditingRow:e.props.hasAnyEditingRow,isTreeData:e.props.isTreeData},t.value||""+r)})):this.props.groupData.data.map((function(t,r){return t.tableData.editing?Object(G.jsx)(e.props.components.EditRow,{columns:e.props.columns,components:e.props.components,data:t,icons:e.props.icons,path:[].concat(Object(kr.a)(e.props.path),[r]),localization:e.props.localization,mode:t.tableData.editing,options:e.props.options,isTreeData:e.props.isTreeData,detailPanel:e.props.detailPanel,onEditingCanceled:e.props.onEditingCanceled,onEditingApproved:e.props.onEditingApproved,getFieldValue:e.props.getFieldValue},r):Object(G.jsx)(e.props.components.Row,{actions:e.props.actions,columns:e.props.columns,components:e.props.components,data:t,detailPanel:e.props.detailPanel,getFieldValue:e.props.getFieldValue,icons:e.props.icons,path:[].concat(Object(kr.a)(e.props.path),[r]),onRowSelected:e.props.onRowSelected,onRowClick:e.props.onRowClick,onToggleDetailPanel:e.props.onToggleDetailPanel,options:e.props.options,isTreeData:e.props.isTreeData,onTreeExpandChanged:e.props.onTreeExpandChanged,onEditingCanceled:e.props.onEditingCanceled,onEditingApproved:e.props.onEditingApproved,hasAnyEditingRow:e.props.hasAnyEditingRow},r)})));for(var s=[],o=0;o<this.props.level;o++)s.push(Object(G.jsx)(Nr.a,{padding:"checkbox"},o));var c=this.props.groupData.value;a.lookup&&(c=a.lookup[c]);var l=a.title;return"string"!==typeof l&&(l=n.cloneElement(l)),Object(G.jsxs)(n.Fragment,{children:[Object(G.jsxs)(Lr.a,{children:[s,Object(G.jsx)(Tr,{colSpan:t,padding:"none",columnDef:a,value:c,icons:this.props.icons,groupData:this.props.groupData,children:Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",p:.2,bgcolor:"background.grouprow",style:{borderRadius:"4px"},children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Er.isIP(Ye(this.props.groupData.value))?Object(G.jsx)(lt.a,{}):Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,style:{cursor:"pointer",marginBottom:"0",marginLeft:"10px"},onClick:function(t){e.props.handleLdapDialog(e.props.groupData)},children:Ye(this.props.groupData.value)})]}),this.showResume(this.props.groupData.data),Object(G.jsx)(k.a,{style:{padding:"5px"},onClick:function(t){e.props.handleLinkQuotaClick(e.props.groupData.value)},children:Object(G.jsx)(Ar.a,{})}),Object(G.jsx)(k.a,{style:{padding:"5px"},onClick:function(t){e.props.handleSourcesLockClick(e.props.groupData.value)},children:Object(G.jsx)(Pr.a,{})}),Object(G.jsx)(k.a,{style:Object(i.a)({padding:"5px",transition:"all ease 200ms"},this.rotateIconStyle(this.props.groupData.isExpanded)),onClick:function(t){e.props.onGroupExpandChanged(e.props.path)},children:Object(G.jsx)(this.props.icons.DetailPanel,{style:{fontSize:30}})})]})})]}),r]})}}]),r}(n.Component);Fr.defaultProps={columns:[],groups:[],options:{},level:0};var qr=r(630),Gr=r.n(qr),_r=r(631),Wr=r.n(_r),Vr=r(637),Ur=r.n(Vr),Qr=r(423),Hr=r.n(Qr),Yr=r(422),Kr=r.n(Yr),Jr=r(134),Zr=r.n(Jr),$r=r(632),Xr=r.n($r),en=r(634),tn=r.n(en),rn=r(635),nn=r.n(rn),an=r(636),sn=r.n(an),on=r(640),cn=r.n(on),ln=r(633),un=r.n(ln),dn=r(642),pn=r.n(dn),jn=r(424),bn=r.n(jn),fn=r(333),hn=r.n(fn),mn=r(332),xn=r.n(mn),On=r(638),gn=r.n(On),vn=r(641),yn=r.n(vn),wn=r(639),kn=r.n(wn),Cn=r(417),Dn=r.n(Cn),Sn=r(527),Mn=r(206),Nn=r(204),Ln=r(205),zn=r(201),Pn=r(535),In=r(78);function Bn(e){return Object(G.jsxs)(P.a,{"aria-labelledby":"simple-dialog-title",open:e.ldapdialog.open,children:[Object(G.jsx)(I.a,{children:null!==e.ldapdialog.ldapinfo?Object(G.jsx)(R.a,{m:1,children:Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(G.jsx)(F.a,{style:{width:"4rem",height:"4rem"},children:In.isIP(Ye(e.ldapdialog.groupData.value))?Object(G.jsx)(lt.a,{}):Object(G.jsx)(rr.a,{style:{fontSize:60}})}),Object(G.jsx)(T.a,{variant:"h6",children:Object(G.jsx)("b",{children:e.ldapdialog.ldapinfo.cn})}),Object(G.jsx)(T.a,{children:Ye(e.ldapdialog.groupData.value)}),void 0!==e.ldapdialog.ldapinfo.memberOf?Object(G.jsx)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center",children:e.ldapdialog.ldapinfo.memberOf.map((function(e,t){var r=e.split(",")[0].split("=")[1];return Object(G.jsx)(V.a,{label:r,style:{margin:"1px"}})}))}):""]})}):""}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"1rem"},children:Object(G.jsxs)(U.a,{onClick:function(){e.handleClose()},variant:"contained",color:"secondary",size:"small",children:[Object(G.jsx)(Y.a,{}),Object(G.jsx)(T.a,{children:"Aceptar"})]})})]})}var Tn=r(666),Rn=(r(921),r(78)),An=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,borderRadius:"1rem"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),En=Object(yr.a)((function(e){return{badge:{backgroundColor:"#43A047",color:"#43A047",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),height:"14px",minWidth:"14px",borderRadius:"1rem","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(wr.a),Fn=Object(yr.a)((function(e){return{badge:{backgroundColor:"#495057",color:"#495057",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),height:"14px",minWidth:"14px",borderRadius:"1rem","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(wr.a);function qn(e){var t=An(),r=Object(n.useState)(null),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)({open:!1,ldapinfo:null,groupData:null}),j=Object(p.a)(l,2),b=j[0],f=j[1],m=Object(n.useState)({open:!1,groupdata:null}),x=Object(p.a)(m,2),O=x[0],g=x[1],v=Object(n.useState)({open:!1,quotas:null,quotaid:"noquota"}),y=Object(p.a)(v,2),w=y[0],C=y[1],D=Object(n.useState)({open:!1,rowData:null,uriinfo:null}),S=Object(p.a)(D,2),M=S[0],N=S[1],z=Object(n.useState)({show:!1,type:"error",msg:""}),A=Object(p.a)(z,2),E=A[0],q=A[1],_=Object(n.useState)(!1),W=Object(p.a)(_,2),H=W[0],Z=W[1],X={Add:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Gr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Wr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Kr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Zr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Hr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Xr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(un.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(tn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(nn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(sn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Hr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Ur.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(Kr.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(gn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(kn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(cn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(G.jsx)(yn.a,Object(i.a)(Object(i.a)({},e),{},{ref:t}))}))},te=function(){c(null),f({open:!1,ldapinfo:null,groupData:null}),g({open:!1,groupdata:null}),q({show:!1,type:"error",msg:""}),Z(!1),C({open:!1,quotas:null,quotaid:"noquota"}),N({open:!1,rowData:null,uriinfo:null})},re=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Rn.isIP(Ye(r.value))){t.next=4;break}return f((function(e){return Object(i.a)(Object(i.a)({},e),{},{open:!0})})),t.next=4,Ge(Ye(r.value),e.server.host).then((function(e){f({open:!0,ldapinfo:e.data,groupData:r})})).catch((function(e){q((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})})),f((function(e){return Object(i.a)(Object(i.a)({},e),{},{open:!0})}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t).then((function(e){e.data.errors||c(e.data)})).catch((function(e){q((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe().then((function(e){e.data.errors||C((function(t){return Object(i.a)(Object(i.a)({},t),{},{quotas:e.data})}))})).catch((function(e){q((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ne(t),g((function(e){return Object(i.a)(Object(i.a)({},e),{},{open:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("source ",t),ne(t),ae(),C((function(e){return Object(i.a)(Object(i.a)({},e),{},{open:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.next=3,Se(o.identifier,e.server.host).then((function(t){Z(!1),t.data.errors?(e.showMessage(t.data.errors[0].msg,"error"),te()):(e.showMessage("Se realiz\xf3 el bloqueo correctamente","success"),te(),e.handleRefreshSourcesLock())})).catch((function(t){Z(!1),e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error"),te()}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("origen ",o),q({show:!1,type:"error",msg:""}),H||Z(!0),t.next=5,Te({host:e.server.host,identifier:o.identifier,quotaid:w.quotaid}).then((function(t){Z(!1),t.data.errors?q((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):"nothingtodo"!==t.data.status?(e.showMessage(t.data.msg,"success"),te(),e.handleRefreshQuota()):q((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Seleccione una cuota de la lista"})}))})).catch((function(e){Z(!1),q((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(G.jsxs)(h.a,{children:[Object(G.jsx)(Dn.a,{style:{borderRadius:"1rem"},icons:X,title:"Detalles de las conexiones",data:e.data,columns:[{title:"Origen",field:"username",render:function(e){return Ye(e.username)},defaultGroupOrder:0},{title:"PC",field:"remote"},{title:"URL",field:"uri",render:function(e){return function(e){var t=e.uri;return e.uri.length>60&&(t=e.uri.substring(0,60)),Object(G.jsx)(Sn.a,{title:e.uri,children:Object(G.jsx)(R.a,{display:"flex",flexDirection:"column",alignItems:"center",children:Object(G.jsx)(T.a,{style:{maxWidth:"100%",overflow:"auto"},children:t})})})}(e)}},{title:"Respuesta",field:"logType",render:function(e){return function(e){var t="";switch(e){case"TCP_MISS":t=Object(G.jsx)(V.a,{label:"Desde url",color:"primary",style:{height:"1.3rem"}});break;case"TCP_HIT":t=Object(G.jsx)(V.a,{label:"Desde cach\xe9",style:{height:"1.3rem",background:K.a[500]}});break;case"TCP_REFRESH_MODIFIED":t=Object(G.jsx)(V.a,{label:"Refrescado",style:{height:"1.3rem",background:Mn.a[700]}});break;case"TCP_DENIED":t=Object(G.jsx)(V.a,{label:"Denegado",style:{height:"1.3rem",background:Nn.a[300]}});break;case"TCP_TUNNEL":t=Object(G.jsx)(V.a,{label:"Cifrada",style:{height:"1.3rem",background:Ln.a[800]}});break;case"TAG_NONE":t=Object(G.jsx)(V.a,{label:"Desconocido",style:{height:"1.3rem",background:zn.a[500]}});break;default:t=Object(G.jsx)(V.a,{label:e,style:{height:"1.3rem"}})}return t}(e.logType)},grouping:!1},{title:"Duraci\xf3n",field:"time",customSort:function(e,t){return e.seconds-t.seconds},grouping:!1},{title:"Tama\xf1o",field:"size",customSort:function(e,t){return e.bytes-t.bytes}},{title:"Velocidad",field:"speed",customSort:function(e,t){return e.speed_value-t.speed_value}},{title:"Estado",field:"active",lookup:{true:Object(G.jsx)(En,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"}),false:Object(G.jsx)(Fn,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"})},grouping:!1,sorting:!1}],components:{GroupRow:function(t){return function(t){return Object(G.jsx)("tr",{children:Object(G.jsx)("td",{colSpan:"9",children:Object(G.jsx)("table",{style:{width:"100%"},children:Object(G.jsx)(Fr,Object(i.a)({handleLinkQuotaClick:oe,handleSourcesLockClick:se,handleLdapDialog:re,showMessage:e.showMessage,handleRefreshQuota:e.handleRefreshQuota,handleRefreshSourcesLock:e.handleRefreshSourcesLock},t))})})})}(t)}},options:{grouping:!0,sorting:!0,defaultExpanded:!1,paging:!0,pageSize:10,pageSizeOptions:e.usersConnected>20?[10,20,{value:e.usersConnected,label:"Todo"}]:e.usersConnected>10?[10,e.usersConnected]:[e.usersConnected],actionsColumnIndex:-1,headerStyle:{fontWeight:700},rowStyle:{padding:"2px",border:"none"},cellStyle:{padding:"2px"}},localization:{grouping:{placeholder:"Arrastrar encabezado aqui para agrupar",groupedBy:"Agrupado por:"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",labelRowsSelect:"registros"},toolbar:{nRowsSelected:"{0} fila(s) seleccionadas",exportTitle:"Exportar",exportAriaLabel:"Exportar",exportCSVName:"Exportar como CSV",exportPDFName:"Exportar como PDF",searchTooltip:"Buscar",searchPlaceholder:"Buscar"},header:{actions:"Acci\xf3n"},body:{emptyDataSourceMessage:"Sin datos que mostrar",filterRow:{filterTooltip:"Filter"}}},actions:[{icon:function(){return Object(G.jsx)(bn.a,{})},tooltip:"Abrir enlace en una nueva pesta\xf1a",onClick:function(e,t){return window.open(t.uri,"_blank")}},{icon:function(){return Object(G.jsx)(L.a,{})},tooltip:"Ver informaci\xf3n de la uri",onClick:function(e,t){return function(e){N((function(t){return Object(i.a)(Object(i.a)({},t),{},{open:!0,rowData:e})})),Ne(e.uri).then((function(t){t.data.errors||-1===t.data.size||(console.log(t.data),N((function(r){return Object(i.a)(Object(i.a)({},r),{},{open:!0,rowData:e,uriinfo:t.data})})))})).catch((function(e){}))}(t)}}]}),null!==b.ldapinfo||E.show?Object(G.jsx)(Bn,{ldapdialog:b,handleClose:te}):Object(G.jsx)(P.a,{open:b.open,onClose:te,"aria-labelledby":"form-dialog-title",children:Object(G.jsx)(I.a,{children:Object(G.jsxs)(R.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(G.jsx)(J.a,{color:"secondary"}),Object(G.jsx)(T.a,{variant:"h6",children:"Cargando informaci\xf3n"})]})})}),Object(G.jsx)(P.a,{open:M.open,onClose:te,"aria-labelledby":"form-dialog-title",children:M.rowData?Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsxs)(I.a,{children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(G.jsxs)(T.a,{style:{display:"flex",alignItems:"center"},children:[Object(G.jsx)(xn.a,{style:{fontSize:30}}),M.rowData.size]}),Object(G.jsxs)(T.a,{style:{display:"flex",alignItems:"center"},children:[Object(G.jsx)(hn.a,{style:{fontSize:30}}),M.rowData.speed]}),Object(G.jsx)(k.a,{component:"span",onClick:function(){window.open(M.rowData.uri,"_blank")},children:Object(G.jsx)(bn.a,{})})]}),Object(G.jsx)(Tn.a,{style:{width:"30rem",maxWidth:"100%"},children:Object(G.jsx)(T.a,{style:{marginBottom:"10px"},children:M.rowData.uri})}),Object(G.jsx)(R.a,{children:Object(G.jsxs)(T.a,{style:{display:"flex",alignItems:"center",marginTop:"0.5rem"},variant:"body2",color:"textSecondary",children:[Object(G.jsx)(pn.a,{style:{fontSize:30}}),function(e){var t="Sin l\xedmites";return 0!==e.number&&e.types.map((function(e){return-1!==e.max&&(t="Limitado a: "+e.restore+" despu\xe9s de: "+e.max),e})),t}(M.rowData.delay_pool)]})}),M.uriinfo&&Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(R.a,{width:"100%",mr:1,mt:1,children:Object(G.jsxs)(T.a,{variant:"body2",color:"textSecondary",children:["Total a descargar ",He(M.uriinfo.size)]})}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",children:[Object(G.jsx)(R.a,{width:"100%",mr:1,children:Object(G.jsx)(Pn.a,{variant:"determinate",value:0===M.rowData.bytes?0:Math.round(100*M.rowData.bytes/M.uriinfo.size)})}),Object(G.jsx)(R.a,{minWidth:35,children:Object(G.jsxs)(T.a,{variant:"body2",color:"textSecondary",children:[0===M.rowData.bytes?0:Math.round(100*M.rowData.bytes/M.uriinfo.size),"%"]})})]})]})]}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:te,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:H,children:"Aceptar"}),H&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}):""}),null===o&&E.show&&Object(G.jsxs)(P.a,{open:!!(b.open||O.open||w.open||M.open),onClose:te,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"ERROR"}),Object(G.jsx)(B.a,{variant:"outlined",severity:E.type,style:{marginBottom:"1rem",marginLeft:"1.6rem",marginRight:"1.6rem"},children:E.msg}),Object(G.jsx)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:te,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:H,children:"Aceptar"}),H&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]})})]}),null!==o&&Object(G.jsxs)(ee,{open:O.open,loading:H,handleClose:te,handleConfirmClick:ce,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Seguro que deseas bloquear a:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Rn.isIP(o.identifier)?Object(G.jsx)(lt.a,{}):Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,style:{marginBottom:"0",marginLeft:"10px"},children:Ye(o.identifier)})]})]}),null!==o&&Object(G.jsx)(P.a,{fullWidth:!0,maxWidth:"xs",open:w.open,onClose:te,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:ie,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Establecer cuota"}),Object(G.jsxs)(I.a,{children:[E.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:"error",style:{marginBottom:"1rem"},children:E.msg}),null===o||void 0===o.quota||o.errors?"":Object(G.jsx)(B.a,{variant:"outlined",severity:"warning",style:{marginBottom:"1rem"},children:Object(G.jsxs)("em",{children:["Ya tiene una cuota definida de ",Object(G.jsx)("b",{children:He(o.quota.limit)+" - "+Qe(o.quota.type)}),' Seleccione la opci\xf3n "Sin cuota" si lo que desea es eliminarla.']})}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,marginBottom:"2rem",children:[Object(G.jsx)(F.a,{children:Rn.isIP(o.identifier)?Object(G.jsx)(lt.a,{}):Object(G.jsx)(rr.a,{})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,style:{marginBottom:"0",marginLeft:"10px"},children:Ye(o.identifier)})]}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:null!==o&&void 0!==o.quota?"2rem":"1rem"},children:Object(G.jsxs)(ht.a,{size:"small",variant:"outlined",style:{width:"100%"},children:[Object(G.jsx)(xt.a,{htmlFor:"set-source-quota",children:"Tipo de Cuota"}),Object(G.jsxs)(mt.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),C((function(t){return Object(i.a)(Object(i.a)({},t),{},{quotaid:e.target.value})}))},native:!0,label:"Tipo de Cuota",inputProps:{name:"quotaid",id:"set-source-quota"},children:[Object(G.jsx)("option",{value:"noquota",children:"Sin cuota"}),null===w.quotas||w.quotas.errors?"":w.quotas.map((function(e,t){return Object(G.jsx)("option",{value:e._id,children:He(e.limit)+" - "+Qe(e.type)})}))]})]})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:ie,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:H,children:"Aceptar"}),H&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:te,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})]})}var Gn=r(182),_n=r(158),Wn=r.n(_n),Vn=r(643),Un=r.n(Vn),Qn=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"}}}));function Hn(e){var t=Qn(),r=Object(n.useState)(!1),a=Object(p.a)(r,2),s=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),l=i[0],j=i[1],b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s||o(!0),t.next=3,pe(e.server._id).then((function(t){o(!1),t.data.errors?e.showMessage(t.data.errors[0].msg,"error"):(e.showMessage("Servidor eliminado correctamente","success"),f(),e.loadServers())})).catch((function(t){o(!1),e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){j(!1),o(!1)};return Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",p:1,bgcolor:"background.paper",children:[Object(G.jsxs)(R.a,{id:"server"+e.index,display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(lt.a,{fontSize:"medium"})}),Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",gutterBottom:!0,className:t.typography,children:e.server.host})]},"server"+e.index),Object(G.jsxs)(R.a,{display:"flex",children:[Object(G.jsx)(zt.a,{checked:e.server.active,onChange:function(t){!function(t){t.preventDefault(),e.handleActivateServerClick(e.server._id)}(t)},name:"server"+e.server._id,inputProps:{"aria-label":"secondary checkbox"}}),Object(G.jsx)(U.a,{onClick:function(e){return j(!0)},variant:"contained",size:"small",color:"secondary",className:t.button,children:Object(G.jsx)(Zr.a,{})})]}),Object(G.jsxs)(ee,{open:l,loading:s,handleClose:f,handleConfirmClick:b,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Esta a punto de eliminar el servidor:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(lt.a,{fontSize:"medium"})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,className:t.typography,children:e.server.host})]})]})]})}var Yn=r(78),Kn=Object(b.a)((function(e){return{paper:{padding:e.spacing(2),color:e.palette.text.secondary,borderRadius:"1rem"},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function Jn(e){var t=Kn(),r=Object(n.useState)([]),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),b=Object(p.a)(l,2),f=b[0],h=b[1],m=Object(n.useState)({host:"",port:"3128",password:""}),O=Object(p.a)(m,2),g=O[0],v=O[1],y=Object(n.useState)({show:!1,type:"error",msg:""}),w=Object(p.a)(y,2),C=w[0],D=w[1],S=Object(n.useState)(!1),M=Object(p.a)(S,2),N=M[0],L=M[1],z=Object(n.useState)(!0),A=Object(p.a)(z,2),E=A[0],F=A[1],q=function(){L(!1),v({host:"",port:3128,password:""}),D({show:!1,type:"error",msg:""})},_=function(e){e.preventDefault(),v((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},W=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),D({show:!1,type:"error",msg:""}),Yn.isIP(g.host)){t.next=6;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n ip del servidor no es v\xe1lida"})})),t.next=17;break;case 6:if(Yn.isPort(g.port.toString())){t.next=10;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El puerto no es v\xe1lido"})})),t.next=17;break;case 10:if(!Yn.isEmpty(g.password,{ignore_whitespace:!0})){t.next=14;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La contrase\xf1a no es v\xe1lida"})})),t.next=17;break;case 14:return f||h(!0),t.next=17,ce(g.host,g.port,g.password).then(function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h(!1),!r.data.errors){t.next=5;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:r.data.errors[0].msg})})),t.next=10;break;case 5:return e.showMessage("Servidor registrado correctamente!","success"),q(),K(),t.next=10,oe();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){h(!1),D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(d.a)(u.a.mark((function t(r,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(n).then(function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.data.errors){t.next=4;break}e.showMessage(r.data.errors[0].msg,"error"),t.next=8;break;case 4:return e.showMessage("Servidor "+r.data.host+" eliminado correctamente","success"),K(),t.next=8,oe();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),H=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(r).then(function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.data.errors){t.next=4;break}e.showMessage(r.data.errors[0].msg,"error"),t.next=8;break;case 4:return e.showMessage("Servidor "+r.data.host+" activado correctamente","success"),K(),t.next=8,oe();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(d.a)(u.a.mark((function t(){var r,n=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]&&n[0],t.next=3,ae().then((function(t){0===t.data.length&&L(!0),c(t.data),t.data.errors&&r?e.showMessage(t.data.errors[0].msg,"error"):r&&e.showMessage("Lista de servidores refrescada!","success")})).catch((function(t){r&&e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae().then((function(e){0===e.data.length&&L(!0),c(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.server.host]),Object(G.jsxs)(x.a,{item:!0,xs:12,sm:12,children:[Object(G.jsxs)(Gn.a,{className:t.paper,children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",children:"Servidores"})}),Object(G.jsx)(k.a,{onClick:function(e){e.preventDefault(),L(!0)},edge:"end","aria-label":"add",children:Object(G.jsx)(Wn.a,{})}),Object(G.jsx)(k.a,{onClick:function(e){!function(e){e.preventDefault(),K(!0)}(e)},edge:"end","aria-label":"delete",children:Object(G.jsx)(Un.a,{})})]}),Object(G.jsx)("div",{style:{width:"100%"},children:o.length>0&&o.slice(0,3).map((function(t,r){return Object(G.jsx)(Hn,{loadServers:K,showMessage:e.showMessage,index:r,server:t,handleActivateServerClick:H,handleDeleteServerClick:V},"server"+r)}))}),o.length>3&&Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{style:{width:"100%",display:E?"none":"inherit"},children:o.slice(3,o.length).map((function(t,r){return Object(G.jsx)(Hn,{loadServers:K,showMessage:e.showMessage,index:r,server:t,handleActivateServerClick:H,handleDeleteServerClick:V},"server"+r)}))}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(U.a,{onClick:function(){F(!E)},children:E?"Ver todos":"Volver a ocultar"})})]})]}),Object(G.jsx)(P.a,{open:N,onClose:q,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:W,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Registrar Servidor"}),Object(G.jsxs)(I.a,{children:[C.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:C.type,style:{marginBottom:"1rem"},children:C.msg}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%"},children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{onChange:_,id:"server-host",name:"host",label:"IP del servidor",variant:"outlined",size:"small",value:g.host})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{onChange:_,id:"server-port",label:"Puerto",name:"port",type:"number",defaultValue:"3128",inputProps:{min:1,max:65536},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:g.port})})]}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:_,id:"server-password",name:"password",label:"Contrase\xf1a",type:"password",autoComplete:"current-password",variant:"outlined",size:"small",value:g.password})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:f,children:"Aceptar"}),f&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:q,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})]})}var Zn=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"}}}));function $n(e){var t=Zn(),r=Object(n.useState)(!1),a=Object(p.a)(r,2),s=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),l=i[0],j=i[1],b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s||o(!0),t.next=3,Ve(e.server._id).then((function(t){o(!1),t.data.errors?e.showMessage(t.data.errors[0].msg,"error"):(e.showMessage("Servidor LDAP "+t.data.host+" eliminado correctamente","success"),f(),e.loadLdapServers())})).catch((function(t){o(!1),e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){j(!1),o(!1)};return Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",p:1,bgcolor:"background.paper",children:[Object(G.jsxs)(R.a,{id:"server"+e.index,display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(lt.a,{fontSize:"medium"})}),Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",gutterBottom:!0,className:t.typography,children:e.server.host})]},"server"+e.index),Object(G.jsx)(R.a,{display:"flex",children:Object(G.jsx)(U.a,{onClick:function(e){return j(!0)},variant:"contained",size:"small",color:"secondary",className:t.button,children:Object(G.jsx)(Zr.a,{})})}),Object(G.jsxs)(ee,{open:l,loading:s,handleClose:f,handleConfirmClick:b,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Esta a punto de eliminar el servidor LDAP:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(lt.a,{fontSize:"medium"})}),Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,className:t.typography,children:e.server.host})]})]})]})}var Xn=r(78),ea=Object(b.a)((function(e){return{paper:{padding:e.spacing(2),color:e.palette.text.secondary,borderRadius:"1rem"},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function ta(e){var t=ea(),r=Object(n.useState)([]),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),b=Object(p.a)(l,2),f=b[0],h=b[1],m=Object(n.useState)({host:"",port:"389",dnbase:"",dnuser:"",password:"",encryption:"none"}),O=Object(p.a)(m,2),g=O[0],v=O[1],y=Object(n.useState)({show:!1,type:"error",msg:""}),w=Object(p.a)(y,2),C=w[0],D=w[1],S=Object(n.useState)(!1),M=Object(p.a)(S,2),N=M[0],L=M[1],z=Object(n.useState)(!0),A=Object(p.a)(z,2),E=A[0],F=A[1],q=function(){L(!1),v({host:"",port:"389",dnbase:"",dnuser:"",password:"",encryption:"none"}),D({show:!1,type:"error",msg:""})},_=function(e){e.preventDefault(),v((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},W=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),D({show:!1,type:"error",msg:""}),Xn.isIP(g.host)){t.next=6;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La direcci\xf3n ip del servidor no es v\xe1lida"})})),t.next=25;break;case 6:if(Xn.isPort(g.port.toString())){t.next=10;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El puerto no es v\xe1lido"})})),t.next=25;break;case 10:if(!Xn.isEmpty(g.dnbase,{ignore_whitespace:!0})){t.next=14;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El Dn base no es v\xe1lida"})})),t.next=25;break;case 14:if(!Xn.isEmpty(g.dnuser,{ignore_whitespace:!0})){t.next=18;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El Dn usuario no es v\xe1lida"})})),t.next=25;break;case 18:if(!Xn.isEmpty(g.password,{ignore_whitespace:!0})){t.next=22;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"La contrase\xf1a no es v\xe1lida"})})),t.next=25;break;case 22:return f||h(!0),t.next=25,Fe({host:g.host,port:g.port,dnbase:g.dnbase,dnuser:g.dnuser,password:g.password,encryption:g.encryption}).then((function(t){h(!1),t.data.errors?D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El servidor LDAP no pudo ser registrado la respuesta fue: "+t.data.errors[0].msg})})):(e.showMessage("Servidor LDAP registrado correctamente!","success"),q(),V())})).catch((function(e){h(!1),D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(d.a)(u.a.mark((function t(){var r,n=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]&&n[0],t.next=3,Ee().then((function(t){c(t.data),t.data.errors&&r?e.showMessage(t.data.errors[0].msg,"error"):r&&e.showMessage("Lista de servidores refrescada!","success")})).catch((function(t){r&&e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee().then((function(e){c(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.server.host]),Object(G.jsxs)(x.a,{item:!0,xs:12,sm:12,children:[Object(G.jsxs)(Gn.a,{className:t.paper,children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",children:"Servidores LDAP"})}),Object(G.jsx)(k.a,{onClick:function(e){e.preventDefault(),L(!0)},edge:"end","aria-label":"add",children:Object(G.jsx)(Wn.a,{})})]}),Object(G.jsx)("div",{style:{width:"100%"},children:o.length>0&&o.slice(0,3).map((function(t,r){return Object(G.jsx)($n,{loadLdapServers:V,showMessage:e.showMessage,index:r,server:t},"server"+r)}))}),o.length>3&&Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{style:{width:"100%",display:E?"none":"inherit"},children:o.slice(3,o.length).map((function(t,r){return Object(G.jsx)($n,{loadLdapServers:V,showMessage:e.showMessage,index:r,server:t},"server"+r)}))}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(U.a,{onClick:function(){F(!E)},children:E?"Ver todos":"Volver a ocultar"})})]})]}),Object(G.jsx)(P.a,{open:N,onClose:q,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:W,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Registrar Servidor LDAP"}),Object(G.jsxs)(I.a,{children:[C.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:C.type,style:{marginBottom:"1rem"},children:C.msg}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%"},children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{onChange:_,id:"ldap-server-host",name:"host",label:"IP del servidor",variant:"outlined",size:"small",value:g.host})}),Object(G.jsx)(R.a,{children:Object(G.jsx)($e.a,{onChange:_,id:"ldap-server-port",name:"port",label:"Puerto",type:"number",defaultValue:"389",inputProps:{min:1,max:65536},InputLabelProps:{shrink:!0},variant:"outlined",size:"small",value:g.port})})]}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:_,id:"ldap-server-dnbase",name:"dnbase",label:"Dn Base",variant:"outlined",size:"small",value:g.dnbase})}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:_,id:"ldap-server-dnuser",name:"dnuser",label:"Dn Usuario",variant:"outlined",size:"small",value:g.dnuser})}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:_,id:"ldap-server-password",name:"password",label:"Contrase\xf1a",type:"password",autoComplete:"current-password",variant:"outlined",size:"small",value:g.password})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:f,children:"Aceptar"}),f&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:q,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})]})}var ra=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"}}}));function na(e){var t=ra(),r=Object(n.useState)(!1),a=Object(p.a)(r,2),s=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),l=i[0],j=i[1],b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s||o(!0),t.next=3,Ce(e.chat.id).then((function(t){o(!1),t.data.errors?e.showMessage(t.data.errors[0].msg,"error"):(e.showMessage("Usuario "+e.chat.name+" eliminado correctamente","success"),f(),e.loadChats())})).catch((function(t){e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){j(!1),o(!1)};return Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",p:1,bgcolor:"background.paper",children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(rr.a,{fontSize:"medium"})}),Object(G.jsxs)(R.a,{display:"flex",flexGrow:1,flexDirection:"column",children:[Object(G.jsx)(T.a,{color:"textPrimary",gutterBottom:!0,className:t.typography,children:e.chat.name}),Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:Object(G.jsx)("em",{children:e.chat.id})})]})]}),Object(G.jsx)(U.a,{onClick:function(e){return j(!0)},variant:"contained",size:"small",color:"secondary",className:t.button,children:Object(G.jsx)(Zr.a,{})}),Object(G.jsxs)(ee,{open:l,loading:s,handleClose:f,handleConfirmClick:b,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Esta a punto de eliminar el usuario del bot:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(rr.a,{fontSize:"medium"})}),Object(G.jsxs)(R.a,{display:"flex",flexGrow:1,flexDirection:"column",children:[Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:e.chat.name}),Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:e.chat.id})]})]})]})]})}var aa=r(78),sa=Object(b.a)((function(e){return{paper:{padding:e.spacing(2),color:e.palette.text.secondary,borderRadius:"1rem"},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function oa(e){var t=sa(),r=Object(n.useState)(null),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),b=Object(p.a)(l,2),f=b[0],h=b[1],m=Object(n.useState)({name:"",id:""}),O=Object(p.a)(m,2),g=O[0],v=O[1],y=Object(n.useState)({show:!1,type:"error",msg:""}),w=Object(p.a)(y,2),C=w[0],D=w[1],S=Object(n.useState)(!1),M=Object(p.a)(S,2),N=M[0],L=M[1],z=Object(n.useState)(!0),A=Object(p.a)(z,2),E=A[0],F=A[1],q=function(){L(!1),v({name:"",id:""}),D({show:!1,type:"error",msg:""})},_=function(e){e.preventDefault(),v((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},W=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D({show:!1,type:"error",msg:""}),!aa.isEmpty(g.name,{ignore_whitespace:!0})){t.next=5;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El nombre no es v\xe1lido"})})),t.next=12;break;case 5:if(!aa.isEmpty(g.id,{ignore_whitespace:!0})){t.next=9;break}D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El ID no es v\xe1lido"})})),t.next=12;break;case 9:return f||h(!0),t.next=12,ke(g.name,g.id).then((function(t){h(!1),t.data.errors?D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(e.showMessage("Usuario autorizado correctamente!","success"),q(),V())})).catch((function(e){h(!1),D((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we().then((function(e){null!==e.data&&void 0!==e.data.chats?c(e.data.chats):c(null)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){V()}),[e.refreshChats]),Object(G.jsx)(a.a.Fragment,{children:null!==o?Object(G.jsxs)(x.a,{item:!0,xs:12,sm:12,children:[Object(G.jsxs)(Gn.a,{className:t.paper,children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",children:"Autorizados al bot"})}),Object(G.jsx)(k.a,{onClick:function(e){e.preventDefault(),L(!0)},edge:"end","aria-label":"add",children:Object(G.jsx)(Wn.a,{})})]}),Object(G.jsx)("div",{style:{width:"100%"},children:o.length>0&&o.slice(0,3).map((function(t,r){return Object(G.jsx)(na,{loadChats:V,showMessage:e.showMessage,chat:t},"botchat"+r)}))}),o.length>3&&Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{style:{width:"100%",display:E?"none":"inherit"},children:o.slice(3,o.length).map((function(t,r){return Object(G.jsx)(na,{loadChats:V,showMessage:e.showMessage,chat:t},"botchat"+r)}))}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(U.a,{onClick:function(){F(!E)},children:E?"Ver todos":"Volver a ocultar"})})]})]}),Object(G.jsx)(P.a,{open:N,onClose:q,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:W,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Autorizar usuario al bot"}),Object(G.jsxs)(I.a,{children:[C.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:C.type,style:{marginBottom:"1rem"},children:C.msg}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:_,id:"telegramchat-dnbase",name:"name",label:"Nombre",variant:"outlined",size:"small",value:g.name})}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:_,id:"telegramchat-dnuser",name:"id",label:"ID",variant:"outlined",size:"small",value:g.id})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:W,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:f,children:"Aceptar"}),f&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:q,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})})]}):""})}var ca=r(1096),ia=r(1094),la=r(1097),ua=r(1098),da=r(268),pa=r(660),ja=r(659),ba=r(668);var fa=function(e){var t=function(e){return e.active&&e.payload&&e.payload.length?Object(G.jsx)("div",{style:{backgroundColor:"rgba(255,255,255,.15)",borderRadius:"0.5rem"},children:Object(G.jsx)("p",{className:"label fs-6",style:{padding:"5px"},children:"".concat(e.label)})}):null};return Object(G.jsx)("div",{className:"chart mt-2",style:{height:e.graphicheight+"px"},children:Object(G.jsx)(la.a,{width:"100%",height:"100%",children:Object(G.jsxs)(ua.a,{width:300,height:100,data:function(){var t=[];return e.data.map((function(r){var n={label:r,value:r};return"size"===e.type?n={label:He(r),value:r}:"speed"===e.type&&(n={label:He(r)+"/s",value:r}),t.push(n),r})),t}(),children:[Object(G.jsx)(da.a,{content:Object(G.jsx)(t,{})}),Object(G.jsx)(pa.a,{hide:!0}),Object(G.jsx)(ja.a,{dataKey:"label",hide:!0}),Object(G.jsx)(ba.a,{type:"monotone",dataKey:"value",stroke:"#dc3545",strokeWidth:2})]})})})},ha=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),textAlign:"center",color:e.palette.text.secondary,borderRadius:"1rem"},listTextprimary:{fontSize:"1.25rem",fontWeight:"700"}}}));function ma(e){var t=ha();return Object(G.jsxs)(Gn.a,{className:t.paper,children:[Object(G.jsx)("div",{className:t.demo,children:Object(G.jsx)(Nt.a,{children:Object(G.jsxs)(It.a,{children:[Object(G.jsx)(Bt.a,{className:t.listTextprimary,primary:function(){var t=e.data.length>0?e.data[e.data.length-1]:0;return"size"===e.type?t=He(t):"speed"===e.type&&(t=He(t)+"/s"),t}(),secondary:e.text,primaryTypographyProps:{style:{fontSize:"1.5rem",color:e.prefersDarkMode?"#fff":"#212529"}},secondaryTypographyProps:{style:{fontSize:"1.5rem",color:e.prefersDarkMode?"inherit":"gray"}}}),Object(G.jsx)(ca.a,{children:e.icon})]})})}),Object(G.jsx)(ia.a,{children:Object(G.jsx)(fa,{type:e.type,data:e.data,id:e.graphicid,graphicheight:80})})]})}var xa=r(662),Oa=r.n(xa),ga=r(661),va=r.n(ga);function ya(e){return Object(G.jsxs)(x.a,{container:!0,spacing:3,children:[Object(G.jsx)(x.a,{item:!0,xs:12,sm:6,md:3,children:Object(G.jsx)(ma,{prefersDarkMode:e.prefersDarkMode,data:void 0!==e.usersConnected?e.usersConnected:[],type:"connected",graphicid:"chart-connected",value:"23",text:"Conectados",icon:Object(G.jsx)(va.a,{style:{fontSize:40}})})}),Object(G.jsx)(x.a,{item:!0,xs:12,sm:6,md:3,children:Object(G.jsx)(ma,{prefersDarkMode:e.prefersDarkMode,data:void 0!==e.usersConnections?e.usersConnections:[],type:"connections",graphicid:"chart-connections",value:"50",text:"Conexiones",icon:Object(G.jsx)(Oa.a,{style:{fontSize:40}})})}),Object(G.jsx)(x.a,{item:!0,xs:12,sm:6,md:3,children:Object(G.jsx)(ma,{prefersDarkMode:e.prefersDarkMode,data:void 0!==e.usersSize?e.usersSize:[],type:"size",graphicid:"chart-size",value:"302MB",text:"Tama\xf1o",icon:Object(G.jsx)(xn.a,{style:{fontSize:40}})})}),Object(G.jsx)(x.a,{item:!0,xs:12,sm:6,md:3,children:Object(G.jsx)(ma,{prefersDarkMode:e.prefersDarkMode,data:void 0!==e.usersSpeed?e.usersSpeed:[],type:"speed",graphicid:"chart-speed",value:"475KB/s",text:"Velocidad",icon:Object(G.jsx)(hn.a,{style:{fontSize:40}}),subvalue:"-55%"})})]})}r(600);var wa=r(663),ka=r.n(wa),Ca=r(427),Da=r.n(Ca),Sa=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},small:{background:"#dc3545",borderRadius:"15px",color:"white"}}}));function Ma(e){var t=Sa(),r=Object(n.useState)(!1),a=Object(p.a)(r,2),s=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),l=i[0],j=i[1],b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s||o(!0),t.next=3,Me(e.sourcelock.identifier,e.server.host).then((function(t){o(!1),t.data.errors?e.showMessage(t.data.errors[0].msg,"error"):(e.showMessage("Se realiz\xf3 el desbloqueo correctamente","success"),f(),e.refreshSourcesLock(e.sourcelock.identifier))})).catch((function(t){o(!1),e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){j(!1),o(!1)};return Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",p:1,bgcolor:"background.paper",children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Ke(e.sourcelock.identifier)?Object(G.jsx)(lt.a,{fontSize:"medium"}):Object(G.jsx)(rr.a,{fontSize:"medium"})}),Object(G.jsxs)(R.a,{display:"flex",flexGrow:1,flexDirection:"column",children:[Object(G.jsxs)(T.a,{color:"textPrimary",gutterBottom:!0,className:t.typography,display:"flex",children:[Ke(e.sourcelock.identifier)?e.sourcelock.identifier:Ye(e.sourcelock.identifier)," ",Object(G.jsx)("small",{className:t.small,children:Object(G.jsx)("em",{style:{margin:"5px"},children:"file"===e.sourcelock.lock_from?"archivo":e.sourcelock.lock_from})})]}),Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:Object(G.jsx)("em",{children:Object(G.jsx)(Da.a,{locale:"es",fromNow:!0,children:e.sourcelock.lock_date})})})]})]}),Object(G.jsx)(U.a,{onClick:function(e){e.preventDefault(),j(!0)},variant:"contained",size:"small",color:"secondary",className:t.button,children:Object(G.jsx)(ka.a,{})}),Object(G.jsxs)(ee,{open:l,loading:s,handleClose:f,handleConfirmClick:b,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Esta a punto de desbloquear:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Ke(e.sourcelock.identifier)?Object(G.jsx)(lt.a,{fontSize:"medium"}):Object(G.jsx)(rr.a,{fontSize:"medium"})}),Object(G.jsxs)(R.a,{display:"flex",flexGrow:1,flexDirection:"column",children:[Object(G.jsxs)(T.a,{gutterBottom:!0,className:t.typography,display:"flex",children:[Ke(e.sourcelock.identifier)?e.sourcelock.identifier:Ye(e.sourcelock.identifier)," ",Object(G.jsx)("small",{className:t.small,children:Object(G.jsx)("em",{style:{margin:"5px"},children:"file"===e.sourcelock.lock_from?"archivo":e.sourcelock.lock_from})})]}),Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:Object(G.jsx)("em",{children:Object(G.jsx)(Da.a,{locale:"es",fromNow:!0,children:e.sourcelock.lock_date})})})]})]})]})]})}var Na=Object(b.a)((function(e){return{paper:{padding:e.spacing(2),color:e.palette.text.secondary,borderRadius:"1rem"},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px"},small:{background:"#dc3545",borderRadius:"15px",color:"white"}}}));function La(e){var t=Na(),r=Object(n.useState)(null),s=Object(p.a)(r,2),o=s[0],c=s[1],i=Object(n.useState)(!0),l=Object(p.a)(i,2),j=l[0],b=l[1],f=function(e){c(o.filter((function(t){return t.identifier!==e})))},h=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e.server._id).then((function(e){e.data.errors||c(e.data)})).catch((function(e){}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){function t(){return(t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e.server._id).then((function(e){console.log(e.data),e.data.errors||c(e.data)})).catch((function(e){}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.refreshSourcesLock,e.server._id]),Object(G.jsx)(a.a.Fragment,{children:null!==o&&o.length>0&&e.server!=={}?Object(G.jsx)(x.a,{item:!0,xs:12,sm:12,children:Object(G.jsxs)(Gn.a,{className:t.paper,children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",children:"Bloqueados"})}),Object(G.jsx)(R.a,{children:Object(G.jsx)(T.a,{children:Object(G.jsx)(wr.a,{badgeContent:o.length,color:"primary"})})})]}),Object(G.jsx)("div",{style:{width:"100%"},children:o.length>0&&o.slice(0,3).map((function(t,r){return Object(G.jsx)(Ma,{refreshSourcesLock:f,loadSourceslock:h,showMessage:e.showMessage,sourcelock:t,server:e.server},"server"+r)}))}),o.length>3&&Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{style:{width:"100%",display:j?"none":"inherit"},children:o.slice(3,o.length).map((function(t,r){return Object(G.jsx)(Ma,{refreshSourcesLock:f,loadSourceslock:h,showMessage:e.showMessage,sourcelock:t,server:e.server},"server"+r)}))}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(U.a,{onClick:function(){b(!j)},children:j?"Ver todos":"Volver a ocultar"})})]})]})}):""})}var za=r(664),Pa=r.n(za),Ia=r(428),Ba=r.n(Ia),Ta=Object(b.a)((function(e){return{button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px",display:"flex"}}}));function Ra(e){var t=Ta(),r=Object(n.useState)(!1),a=Object(p.a)(r,2),s=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(p.a)(c,2),l=i[0],j=i[1],b=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s||o(!0),t.next=3,Be(e.quota._id).then((function(t){o(!1),t.data.errors?e.showMessage(t.data.errors[0].msg,"error"):(e.showMessage("Cuota eliminada correctamente","success"),f(),e.loadQuotas())})).catch((function(t){o(!1),e.showMessage("Lo sentimos ha ocurrido un error inesperado.","error")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){j(!1),o(!1)};return Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexWrap:"wrap",p:1,bgcolor:"background.paper",children:[Object(G.jsxs)(R.a,{id:"server"+e.index,display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(Ar.a,{fontSize:"medium"})}),Object(G.jsxs)(R.a,{display:"flex",flexGrow:10,flexDirection:"column",children:[Object(G.jsxs)(T.a,{color:"textPrimary",gutterBottom:!0,className:t.typography,children:[He(e.quota.limit)," ",e.quota.isdefault?Object(G.jsx)(Ba.a,{}):""]}),Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:Object(G.jsx)("em",{children:Qe(e.quota.type)})})]})]},"server"+e.index),Object(G.jsxs)(R.a,{display:"flex",children:[Object(G.jsx)(wr.a,{badgeContent:e.quota.sources.length,max:9,color:"primary",children:Object(G.jsx)(Pa.a,{fontSize:"large"})}),Object(G.jsx)(U.a,{onClick:function(e){return j(!0)},variant:"contained",size:"small",color:"secondary",className:t.button,style:{marginLeft:"25px"},children:Object(G.jsx)(Zr.a,{})})]}),Object(G.jsxs)(ee,{open:l,loading:s,handleClose:f,handleConfirmClick:b,children:[Object(G.jsx)(T.a,{variant:"h6",gutterBottom:!0,children:" Est\xe1 a punto de eliminar esta cuota:"}),Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(F.a,{children:Object(G.jsx)(Ar.a,{fontSize:"medium"})}),Object(G.jsxs)(R.a,{display:"flex",flexGrow:10,flexDirection:"column",children:[Object(G.jsxs)(T.a,{gutterBottom:!0,className:t.typography,children:[He(e.quota.limit)," ",e.quota.isdefault?Object(G.jsx)(Ba.a,{}):""]}),Object(G.jsx)(T.a,{gutterBottom:!0,className:t.typography,children:Object(G.jsxs)("em",{children:[" ",Qe(e.quota.type)]})})]})]})]})]})}var Aa=Object(b.a)((function(e){return{paper:{padding:e.spacing(2),color:e.palette.text.secondary,borderRadius:"1rem"},button:{margin:"0",minWidth:"0"},typography:{marginBottom:"0",marginLeft:"10px",display:"flex"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:K.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function Ea(e){var t=Aa(),r=Object(n.useState)(null),s=Object(p.a)(r,2),o=s[0],c=s[1],l=Object(n.useState)(!1),b=Object(p.a)(l,2),f=b[0],h=b[1],m=Object(n.useState)({limit:"1",limittype:"GB",type:"monthly"}),O=Object(p.a)(m,2),g=O[0],v=O[1],y=Object(n.useState)("nodefault"),w=Object(p.a)(y,2),C=w[0],D=w[1],S=Object(n.useState)({show:!1,type:"error",msg:""}),M=Object(p.a)(S,2),N=M[0],L=M[1],z=Object(n.useState)(!1),A=Object(p.a)(z,2),E=A[0],F=A[1],q=Object(n.useState)(!1),_=Object(p.a)(q,2),W=_[0],V=_[1],H=Object(n.useState)(!0),K=Object(p.a)(H,2),Z=K[0],X=K[1],ee=function(){F(!1),v({limit:"1",limittype:"GB",type:"monthly"}),L({show:!1,type:"error",msg:""})},te=function(){V(!1),D("nodefault"),L({show:!1,type:"error",msg:""})},re=function(e){e.preventDefault(),v((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e.target.name,e.target.value))}))},ne=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L({show:!1,type:"error",msg:""}),f||h(!0),t.next=4,Ae({quotaid:C}).then((function(t){h(!1),t.data.errors?L((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):"nothingtodo"!==t.data.status?(e.showMessage(t.data.msg,"success"),te(),se()):L((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Seleccione una cuota de la lista"})}))})).catch((function(e){h(!1),L((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),L({show:!1,type:"error",msg:""}),!(Number(g.limit)<1)){t.next=6;break}L((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"El l\xedmite no es v\xe1lido"})})),t.next=9;break;case 6:return f||h(!0),t.next=9,Ie({limit:(n=Number(g.limit),a=g.limittype,"YB"===a?n*Math.pow(1024,8):"ZB"===a?n*Math.pow(1024,7):"EB"===a?n*Math.pow(1024,6):"PB"===a?n*Math.pow(1024,5):"TB"===a?n*Math.pow(1024,4):"GB"===a?n*Math.pow(1024,3):"MB"===a?n*Math.pow(1024,2):"KB"===a?1024*n:n),type:g.type}).then((function(t){h(!1),t.data.errors?L((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):(e.showMessage("Cuota registrada correctamente!","success"),ee(),se())})).catch((function(e){h(!1),L((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 9:case"end":return t.stop()}var n,a}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe().then((function(e){console.log(e.data),e.data.errors||c(e.data)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){se()}),[e.refreshQuota]),Object(G.jsx)(a.a.Fragment,{children:null!==o?Object(G.jsxs)(x.a,{item:!0,xs:12,sm:12,children:[Object(G.jsxs)(Gn.a,{className:t.paper,children:[Object(G.jsxs)(R.a,{display:"flex",alignItems:"center",flexGrow:1,children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)(T.a,{color:"textPrimary",variant:"h6",children:"Cuotas"})}),Object(G.jsx)(k.a,{onClick:function(e){e.preventDefault(),F(!0)},edge:"end","aria-label":"add",children:Object(G.jsx)(Wn.a,{})}),Object(G.jsx)(k.a,{onClick:function(e){e.preventDefault(),V(!0)},edge:"end","aria-label":"add",children:Object(G.jsx)(Ar.a,{})})]}),Object(G.jsx)("div",{style:{width:"100%"},children:o.length>0&&o.slice(0,3).map((function(t,r){return Object(G.jsx)(Ra,{loadQuotas:se,showMessage:e.showMessage,quota:t},"quota"+r)}))}),o.length>3&&Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)("div",{style:{width:"100%",display:Z?"none":"inherit"},children:o.slice(3,o.length).map((function(t,r){return Object(G.jsx)(Ra,{loadQuotas:se,showMessage:e.showMessage,quota:t},"quota"+r)}))}),Object(G.jsx)(R.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(U.a,{onClick:function(){X(!Z)},children:Z?"Ver todos":"Volver a ocultar"})})]})]}),Object(G.jsx)(P.a,{open:E,onClose:ee,"aria-labelledby":"form-dialog-title",children:Object(G.jsxs)("form",{onSubmit:ae,children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Registrar Quota"}),Object(G.jsxs)(I.a,{children:[N.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:N.type,style:{marginBottom:"1rem"},children:N.msg}),Object(G.jsxs)(R.a,{display:"flex",style:{width:"100%"},children:[Object(G.jsx)(R.a,{flexGrow:1,children:Object(G.jsx)($e.a,{style:{width:"100%"},onChange:re,id:"quota-limit",name:"limit",label:"Limite",variant:"outlined",size:"small",type:"number",defaultValue:g.limit,value:g.limit,inputProps:{min:1},InputLabelProps:{shrink:!0}})}),Object(G.jsx)(R.a,{children:Object(G.jsxs)(ht.a,{size:"small",variant:"outlined",children:[Object(G.jsx)(xt.a,{htmlFor:"quota-limit-type",children:"Medida"}),Object(G.jsxs)(mt.a,{onChange:re,native:!0,label:"Medida",defaultValue:g.limittype,inputProps:{name:"limittype",id:"quota-limit-type",value:g.limittype},children:[Object(G.jsx)("option",{value:"TB",children:"TB"}),Object(G.jsx)("option",{value:"GB",children:"GB"}),Object(G.jsx)("option",{value:"MB",children:"MB"}),Object(G.jsx)("option",{value:"KB",children:"KB"})]})]})})]}),Object(G.jsx)(R.a,{style:{width:"100%",marginTop:"1rem"},children:Object(G.jsxs)(ht.a,{size:"small",variant:"outlined",style:{width:"100%"},children:[Object(G.jsx)(xt.a,{htmlFor:"quota-type",children:"Tipo de Cuota"}),Object(G.jsxs)(mt.a,{style:{width:"100%"},onChange:re,native:!0,label:"Tipo de Cuota",defaultValue:g.type,value:g.type,inputProps:{name:"type",id:"quota-type",value:g.type},children:[Object(G.jsx)("option",{value:"monthly",children:"Mensual"}),Object(G.jsx)("option",{value:"weekly",children:"Semanal"}),Object(G.jsx)("option",{value:"daily",children:"Diario"}),Object(G.jsx)("option",{value:"hourly",children:"Cada hora"})]})]})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{type:"submit",variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:f,children:"Aceptar"}),f&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:ee,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})}),Object(G.jsxs)(P.a,{open:W,onClose:te,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ze.a,{id:"form-dialog-title",children:"Establecer cuota por defecto"}),Object(G.jsxs)(I.a,{children:[N.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:N.type,style:{marginBottom:"1rem"},children:N.msg}),o.map((function(e,t){return e.isdefault?Object(G.jsx)(R.a,{style:{width:"100%",textAlign:"left",marginBottom:"1rem"},children:Object(G.jsx)("small",{children:Object(G.jsxs)("em",{children:["Actualmente ya tiene la cuota ",Object(G.jsx)("b",{children:He(e.limit)+" - "+Qe(e.type)}),' establecida como cuota por defecto. Seleccione la opci\xf3n "Sin cuota por defecto" si lo que desea es eliminarla.']})})}):""})),Object(G.jsx)(R.a,{style:{width:"100%"},children:Object(G.jsxs)(ht.a,{size:"small",variant:"outlined",style:{width:"100%"},children:[Object(G.jsx)(xt.a,{htmlFor:"set-default-quota",children:"Tipo de Cuota"}),Object(G.jsxs)(mt.a,{style:{width:"100%"},onChange:function(e){e.preventDefault(),D(e.target.value)},native:!0,label:"Tipo de Cuota",inputProps:{name:"limittype",id:"set-default-quota",vale:C},children:[Object(G.jsx)("option",{value:"nodefault",children:"Sin cuota por defecto"}),null===o||o.errors?"":o.map((function(e,t){return Object(G.jsx)("option",{value:e._id,children:He(e.limit)+" - "+Qe(e.type)})}))]})]})})]}),Object(G.jsxs)(Q.a,{style:{justifyContent:"center",marginBottom:"0.5rem"},children:[Object(G.jsxs)("div",{className:t.wrapper,children:[Object(G.jsx)(U.a,{onClick:ne,variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:Object(G.jsx)(Y.a,{}),disabled:f,children:"Aceptar"}),f&&Object(G.jsx)(J.a,{size:24,className:t.buttonProgress})]}),Object(G.jsx)(U.a,{onClick:te,variant:"contained",color:"default",size:"small",className:t.button,startIcon:Object(G.jsx)($.a,{}),children:"Cancelar"})]})]})]}):""})}var Fa=r(1092),qa=r(1093),Ga=(r(1052),Object(b.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},card:{width:"100%",maxWidth:"50rem",alignItems:"center"},cardcontent:{display:"flex",flexDirection:"column",alignItems:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}));function _a(e){var t=Ga(),r=Object(n.useState)(""),a=Object(p.a)(r,2),s=a[0],o=a[1],c=Object(n.useRef)(null);return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We().then((function(e){o(e.data.license)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(G.jsx)("div",{className:t.root,children:Object(G.jsx)("form",{ref:c,children:Object(G.jsx)(Fa.a,{className:t.card,children:Object(G.jsxs)(qa.a,{className:t.cardcontent,children:[Object(G.jsx)(F.a,{style:{width:"70px",height:"70px",marginBottom:"15px"},alt:"logo",src:q}),Object(G.jsx)(T.a,{style:{minWidth:"100%",marginBottom:"15px",textAlign:"justify"},children:"Lo sentimos necesita un archivo de licencia para usar el sistema, para obtener una licencia copie el siguiente c\xf3digo y env\xedelo a los proveedores del sistema."}),Object(G.jsx)($e.a,{style:{minWidth:"100%",marginBottom:"15px"},multiline:!0,rows:15,defaultValue:s,variant:"outlined",inputProps:{readonly:"readonly"}}),Object(G.jsxs)(U.a,{color:"secondary",variant:"contained",component:"label",children:["Cargar archivo de licencia",Object(G.jsx)("input",{onChange:function(t){!function(t){t.preventDefault();var r=new FormData;r.append("licensefile",t.target.files[0]),_e(r).then(function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.data.errors){t.next=4;break}e.showMessage(r.data.errors[0].msg,"error"),t.next=7;break;case 4:return e.showMessage("Licencia para "+r.data.company+" v\xe1lida por: "+r.data.time+" d\xedas ","success"),t.next=7,oe();case 7:c.current&&c.current.reset();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(t)},type:"file",hidden:!0})]})]})})})})}r(1053);var Wa=r(78),Va=Object(b.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},card:{width:"100%",maxWidth:"50rem",alignItems:"center"},cardcontent:{display:"flex",flexDirection:"column",alignItems:"center",margin:"1rem"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function Ua(e){var t=Va(),r=Object(n.useRef)(null),a=Object(n.useState)(),s=Object(p.a)(a,2),o=s[0],c=s[1],l=Object(n.useState)(),j=Object(p.a)(l,2),b=j[0],f=j[1],h=Object(n.useState)({show:!1,type:"error",msg:""}),m=Object(p.a)(h,2),x=m[0],O=m[1],g=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),O({show:!1,type:"error",msg:""}),!Wa.isEmpty(o,{ignore_whitespace:!0})){t.next=6;break}O(!0),t.next=12;break;case 6:if(!Wa.isEmpty(b,{ignore_whitespace:!0})){t.next=10;break}O(!0),t.next=12;break;case 10:return t.next=12,Ue({username:o,password:b}).then((function(t){t.data.errors?O((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:t.data.errors[0].msg})})):e.setToken(t.data)})).catch((function(e){O((function(e){return Object(i.a)(Object(i.a)({},e),{},{show:!0,msg:"Lo sentimos ha ocurrido un error inesperado."})}))}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){}),[]),Object(G.jsxs)("div",{className:t.root,children:[Object(G.jsx)(F.a,{style:{width:"70px",height:"70px",marginBottom:"2rem"},alt:"logo",src:q}),Object(G.jsx)("form",{ref:r,style:{width:"19rem"},onSubmit:g,children:Object(G.jsx)(Fa.a,{className:t.card,children:Object(G.jsxs)(qa.a,{className:t.cardcontent,children:[Object(G.jsx)(T.a,{style:{marginTop:"1rem"},children:"Autenticaci\xf3n requerida"}),x.show&&Object(G.jsx)(B.a,{variant:"outlined",severity:x.type,style:{marginTop:"1rem",marginBottom:"1rem",width:"100%"},children:x.msg}),Object(G.jsx)($e.a,{style:{width:"100%",marginBottom:"15px"},required:!0,label:"Usuario",onChange:function(e){c(e.target.value)}}),Object(G.jsx)($e.a,{style:{width:"100%",marginBottom:"15px"},required:!0,type:"password",label:"Contrase\xf1a",onChange:function(e){f(e.target.value)}}),Object(G.jsx)(U.a,{style:{marginTop:"1.5rem"},type:"submit",color:"secondary",startIcon:Object(G.jsx)(Y.a,{}),variant:"contained",children:"Entrar"})]})})})]})}var Qa=r(181),Ha=r(665),Ya=r(183);Qa.b.add(Ha.a,Ya.d,Ya.e,Ya.f,Ya.c,Ya.a,Ya.b);var Ka=Object(b.a)((function(e){var t;return{root:(t={},Object(j.a)(t,e.breakpoints.up("md"),{flexGrow:1}),Object(j.a)(t,e.breakpoints.up("lg"),{display:"flex"}),t),grow:{flexGrow:1},menuButton:Object(j.a)({marginRight:e.spacing(2)},e.breakpoints.up("lg"),{display:"none"}),toolbar:e.mixins.toolbar,content:{flexGrow:1,padding:e.spacing(2)},title:Object(j.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),small:{background:"#dc3545",borderRadius:"15px",color:"white"}}})),Ja=v()(window._env_.REACT_APP_ENDPOINT);function Za(e){var t=Object(c.b)(),r=t.enqueueSnackbar,s=t.closeSnackbar,o=Object(n.useState)(!0),l=Object(p.a)(o,2),j=l[0],b=l[1],g=a.a.useMemo((function(){return Object(f.a)({palette:{type:j?"dark":"light",primary:{light:"#757ce8",main:"#dc3545",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#dc3545",dark:"#ba000d",contrastText:"#fff"},text:{secondary:"#9FA2A5"},background:{paper:j?"#343A40":"#fff",default:j?"#212529":"#e9ecef",grouprow:j?"#495057":"#F5F5F5"}}})}),[j]),v=e.window,y=Ka(),w=a.a.useState(!1),C=Object(p.a)(w,2),D=C[0],S=C[1],M=function(){S(!D)},N=void 0!==v?function(){return v().document.body}:void 0,L=Object(n.useState)({}),z=Object(p.a)(L,2),P=z[0],I=z[1],B=Object(n.useState)(!1),T=Object(p.a)(B,2),R=T[0],A=T[1],E=Object(n.useState)(!1),F=Object(p.a)(E,2),q=F[0],_=F[1],W=Object(n.useState)(!1),V=Object(p.a)(W,2),U=V[0],Q=V[1],H=Object(n.useState)({status:void 0,timeleft:0,company:""}),Y=Object(p.a)(H,2),K=Y[0],J=Y[1],Z=function(){var e=Object(n.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(p.a)(e,2),r=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),a(e.token)},token:r}}(),X=Z.token,ee=Z.setToken,te=function(e,t){r(e,{variant:t,autoHideDuration:3e3,action:function(e){return Object(G.jsx)(a.a.Fragment,{children:Object(G.jsx)(h.a,{theme:g,children:Object(G.jsx)(k.a,{onClick:function(){s(e)},edge:"end","aria-label":"delete",style:{marginRight:"3px"},children:Object(G.jsx)($.a,{fontSize:"small"})})})})}})},re=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!R);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(!q);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!U);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le({darktheme:!j}).then((function(e){b(e.data.darktheme)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue().then((function(e){b(e.data.darktheme)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ja.on("proxyConnections",(function(e){console.log(e),I(e)})),Ja.on("refreshSourcesLock",(function(e){A((function(e){return Object(i.a)(Object(i.a)({},e),{},{refreshSourcesLock:!e})}))})),Ja.on("updateLicense",(function(e){J(e.license)})),function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),void 0===K.status||K.status?X?Object(G.jsx)(h.a,{theme:g,children:Object(G.jsxs)("div",{className:y.root,children:[Object(G.jsx)(m.a,{}),Object(G.jsx)(Mt,{handleRefreshSourcesLock:re,showMessage:te,handlePrefersDarkMode:se,prefersDarkMode:j,handleDrawerToggle:M,drawerWidth:230,socket:Ja,server:P.server,serverIsUp:void 0===P.connections||void 0===P.connections[0]||!P.connections[0].errors,license:K,setToken:ee}),Object(G.jsx)(vr,{showMessage:te,handleRefreshChats:ae,mobileOpen:D,prefersDarkMode:j,handleDrawerToggle:M,container:N,connections:void 0===P.connections||void 0===P.connections[0]||P.connections[0].errors?[]:P.connections,server:void 0!==P.server?P.server:{}}),Object(G.jsxs)("main",{className:y.content,children:[Object(G.jsx)("div",{className:y.toolbar}),void 0!==P.server?Object(G.jsx)(x.a,{container:!0,spacing:3,children:Object(G.jsx)(x.a,{item:!0,xs:12,children:Object(G.jsx)(O.a,{mdUp:!0,implementation:"css",children:void 0!==P.server?Object(G.jsx)(Dt,{handleRefreshSourcesLock:re,showMessage:te,server:P.server,serverIsUp:void 0===P.connections[0]||!P.connections[0].errors,prefersDarkMode:j}):""})})}):"",Object(G.jsx)(ya,{usersConnected:P.usersConnected,usersConnections:P.usersConnections,usersSize:P.usersSize,usersSpeed:P.usersSpeed,prefersDarkMode:j}),Object(G.jsxs)(x.a,{container:!0,spacing:3,children:[Object(G.jsx)(x.a,{item:!0,xs:12,md:9,children:Object(G.jsx)(qn,{showMessage:te,handleRefreshQuota:ne,handleRefreshSourcesLock:re,usersConnected:void 0!==P.usersConnected?P.usersConnected[P.usersConnected.length-1]:0,data:void 0===P.connections||void 0===P.connections[0]||P.connections[0].errors?[]:P.connections,server:void 0!==P.server?P.server:{}})}),Object(G.jsx)(x.a,{item:!0,xs:12,md:3,children:Object(G.jsxs)(x.a,{container:!0,spacing:2,children:[Object(G.jsx)(Jn,{showMessage:te,server:void 0!==P.server?P.server:{}}),Object(G.jsx)(ta,{showMessage:te,server:void 0!==P.server?P.server:{}}),Object(G.jsx)(Ea,{refreshQuota:q,showMessage:te}),void 0!==P.server?Object(G.jsx)(La,{showMessage:te,refreshSourcesLock:R,server:P.server}):"",Object(G.jsx)(oa,{showMessage:te,refreshChats:U})]})})]})]})]})}):Object(G.jsxs)(h.a,{theme:g,children:[Object(G.jsx)(m.a,{}),Object(G.jsx)(Ua,{showMessage:te,setToken:ee,prefersDarkMode:j})]}):Object(G.jsxs)(h.a,{theme:g,children:[Object(G.jsx)(m.a,{}),Object(G.jsx)(_a,{showMessage:te})]})}o.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(c.a,{maxSnack:5,children:Object(G.jsx)(Za,{})})}),document.getElementById("root"))},694:function(e,t,r){}},[[1054,1,2]]]);
//# sourceMappingURL=main.b131537c.chunk.js.map